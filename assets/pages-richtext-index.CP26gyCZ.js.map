{"version":3,"file":"pages-richtext-index.CP26gyCZ.js","sources":["../../../../src/uni_modules/wot-design-uni/components/wd-navbar/types.ts","../../../../src/uni_modules/wot-design-uni/components/wd-navbar/wd-navbar.vue","../../../../src/pages/richtext/index.vue"],"sourcesContent":["import type { ExtractPropTypes } from 'vue'\nimport { baseProps, makeBooleanProp, makeNumberProp } from '../common/props'\n\nexport const navbarProps = {\n  ...baseProps,\n  /**\n   * 标题文字\n   */\n  title: String,\n  /**\n   * 左侧文案\n   */\n  leftText: String,\n  /**\n   * 右侧文案\n   */\n  rightText: String,\n  /**\n   * 是否显示左侧箭头\n   */\n  leftArrow: makeBooleanProp(false),\n  /**\n   * 是否显示下边框\n   */\n  bordered: makeBooleanProp(true),\n  /**\n   * 是否固定到顶部\n   */\n  fixed: makeBooleanProp(false),\n  /**\n   * 固定在顶部时，是否在标签位置生成一个等高的占位元素\n   */\n  placeholder: makeBooleanProp(false),\n  /**\n   * 导航栏 z-index\n   */\n  zIndex: makeNumberProp(500),\n  /**\n   * 是否开启顶部安全区适配\n   */\n  safeAreaInsetTop: makeBooleanProp(false),\n  /**\n   * 是否禁用左侧按钮，禁用时透明度降低，且无法点击\n   */\n  leftDisabled: makeBooleanProp(false),\n  /**\n   * 是否禁用右侧按钮，禁用时透明度降低，且无法点击\n   */\n  rightDisabled: makeBooleanProp(false)\n}\n\nexport type NavbarProps = ExtractPropTypes<typeof navbarProps>\n","<template>\n  <view :style=\"{ height: addUnit(height) }\">\n    <view :class=\"`wd-navbar ${customClass} ${fixed ? 'is-fixed' : ''} ${bordered ? 'is-border' : ''}`\" :style=\"rootStyle\">\n      <view class=\"wd-navbar__content\">\n        <view class=\"wd-navbar__capsule\" v-if=\"$slots.capsule\">\n          <slot name=\"capsule\" />\n        </view>\n\n        <view :class=\"`wd-navbar__left ${leftDisabled ? 'is-disabled' : ''}`\" @click=\"handleClickLeft\" v-else-if=\"!$slots.left\">\n          <wd-icon v-if=\"leftArrow\" name=\"arrow-left\" custom-class=\"wd-navbar__arrow\" />\n          <view v-if=\"leftText\" class=\"wd-navbar__text\">{{ leftText }}</view>\n        </view>\n\n        <view v-else :class=\"`wd-navbar__left ${leftDisabled ? 'is-disabled' : ''}`\" @click=\"handleClickLeft\">\n          <slot name=\"left\" />\n        </view>\n\n        <view class=\"wd-navbar__title\">\n          <slot name=\"title\" />\n          <template v-if=\"!$slots.title && title\">{{ title }}</template>\n        </view>\n        <view :class=\"`wd-navbar__right ${rightDisabled ? 'is-disabled' : ''}`\" @click=\"handleClickRight\" v-if=\"$slots.right || rightText\">\n          <slot name=\"right\" />\n\n          <view v-if=\"!$slots.right && rightText\" class=\"wd-navbar__text\" hover-class=\"wd-navbar__text--hover\" :hover-stay-time=\"70\">\n            {{ rightText }}\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n<script lang=\"ts\">\nexport default {\n  name: 'wd-navbar',\n  options: {\n    virtualHost: true,\n    addGlobalClass: true,\n    styleIsolation: 'shared'\n  }\n}\n</script>\n\n<script lang=\"ts\" setup>\nimport wdIcon from '../wd-icon/wd-icon.vue'\nimport { type CSSProperties, computed, getCurrentInstance, nextTick, onMounted, ref, watch } from 'vue'\nimport { getRect, addUnit, isDef, objToStyle } from '../common/util'\nimport { navbarProps } from './types'\n\nconst props = defineProps(navbarProps)\nconst emit = defineEmits(['click-left', 'click-right'])\n\nconst height = ref<number | ''>('') // 占位高度\n\nconst { statusBarHeight } = uni.getSystemInfoSync()\n\nwatch(\n  [() => props.fixed, () => props.placeholder],\n  () => {\n    setPlaceholderHeight()\n  },\n  { deep: true, immediate: false }\n)\n\nconst rootStyle = computed(() => {\n  const style: CSSProperties = {}\n  if (props.fixed && isDef(props.zIndex)) {\n    style['z-index'] = props.zIndex\n  }\n  if (props.safeAreaInsetTop) {\n    style['padding-top'] = addUnit(statusBarHeight || 0)\n  }\n  return `${objToStyle(style)}${props.customStyle}`\n})\n\nonMounted(() => {\n  if (props.fixed && props.placeholder) {\n    nextTick(() => {\n      setPlaceholderHeight()\n    })\n  }\n})\n\nfunction handleClickLeft() {\n  if (!props.leftDisabled) {\n    emit('click-left')\n  }\n}\n\nfunction handleClickRight() {\n  if (!props.rightDisabled) {\n    emit('click-right')\n  }\n}\n\nconst { proxy } = getCurrentInstance() as any\n\nfunction setPlaceholderHeight() {\n  if (!props.fixed || !props.placeholder) {\n    return\n  }\n\n  getRect('.wd-navbar', false, proxy).then((res) => {\n    height.value = res.height as number\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","<template>\n  <SafeTopContainer :fixed=\"true\">\n    <wd-navbar :title=\"renderTitle\" left-arrow @click-left=\"handleClickLeft\" />\n  </SafeTopContainer>\n <view style=\"padding: 16rpx;box-sizing: border-box\" v-html=\"content\">\n </view>\n</template>\n\n<script setup>\nimport SafeTopContainer from \"@/components/SafeTopContainer.vue\"\nimport { indexGetRichtext } from \"@/api/totalApi\"\n\nconst renderTitle = ref(\"\")\nconst type = ref(\"\")\nconst content = ref(\"\")\n\nonLoad(async (option) => {\n  type.value = option.type\n\n  indexGetRichtext({\n    type: type.value,\n  }).then((res) => {\n    if (res.code == 200) {\n      renderTitle.value = res.data.name\n      content.value = res.data.content\n    }\n  })\n})\n\nconst handleClickLeft = () => {\n  uni.navigateBack()\n}\n</script>\n\n<style scoped lang=\"scss\"></style>\n"],"names":["navbarProps","__spreadProps","baseProps","title","String","leftText","rightText","leftArrow","makeBooleanProp","bordered","fixed","placeholder","zIndex","makeNumberProp","safeAreaInsetTop","leftDisabled","rightDisabled","name","options","virtualHost","addGlobalClass","styleIsolation","props","__props","emit","__emit","height","ref","statusBarHeight","uni.getSystemInfoSync","watch","setPlaceholderHeight","deep","immediate","rootStyle","computed","style","isDef","addUnit","objToStyle","customStyle","handleClickLeft","handleClickRight","onMounted","nextTick","proxy","getCurrentInstance","getRect","then","res","value","renderTitle","type","content","onLoad","option","__async","this","indexGetRichtext","code","data","uni.navigateBack"],"mappings":"kvBAGO,MAAMA,EAAcC,OACtBC,GADsB,CAKzBC,MAAOC,OAIPC,SAAUD,OAIVE,UAAWF,OAIXG,UAAWC,GAAgB,GAI3BC,SAAUD,GAAgB,GAI1BE,MAAOF,GAAgB,GAIvBG,YAAaH,GAAgB,GAI7BI,OAAQC,EAAe,KAIvBC,iBAAkBN,GAAgB,GAIlCO,aAAcP,GAAgB,GAI9BQ,cAAeR,GAAgB,kBCflB,CACbS,KAAM,YACNC,QAAS,CACPC,aAAa,EACbC,gBAAgB,EAChBC,eAAgB,0EAWpB,MAAMC,EAAQC,EACRC,EAAOC,EAEPC,EAASC,EAAiB,KAE1BC,gBAAEA,GAAoBC,IAE5BC,EACE,CAAC,IAAMR,EAAMZ,MAAO,IAAMY,EAAMX,aAChC,KACEoB,KAEF,CAAEC,MAAM,EAAMC,WAAW,IAG3B,MAAMC,EAAYC,EAAS,KACzB,MAAMC,EAAuB,CAAA,EAO7B,OANId,EAAMZ,OAAS2B,EAAMf,EAAMV,UAC7BwB,EAAM,WAAad,EAAMV,QAEvBU,EAAMR,mBACRsB,EAAM,eAAiBE,EAAQV,GAAmB,IAE7C,GAAGW,EAAWH,KAASd,EAAMkB,gBAWtC,SAASC,IACFnB,EAAMP,cACTS,EAAK,aACP,CAGF,SAASkB,IACFpB,EAAMN,eACTQ,EAAK,cACP,CAjBFmB,EAAU,KACJrB,EAAMZ,OAASY,EAAMX,aACvBiC,EAAS,KACPb,QAiBN,MAAMc,MAAEA,GAAUC,IAElB,SAASf,IACFT,EAAMZ,OAAUY,EAAMX,aAI3BoC,EAAQ,cAAc,EAAOF,GAAOG,KAAMC,IACxCvB,EAAOwB,MAAQD,EAAIvB,QACpB,ihDC5FH,MAAMyB,EAAcxB,EAAI,IAClByB,EAAOzB,EAAI,IACX0B,EAAU1B,EAAI,IAEpB2B,EAAcC,IAAWC,SAAAC,OAAA,OAAA,YACvBL,EAAKF,MAAQK,EAAOH,KAEpBM,EAAiB,CACfN,KAAMA,EAAKF,QACVF,KAAMC,IACS,KAAZA,EAAIU,OACNR,EAAYD,MAAQD,EAAIW,KAAK3C,KAC7BoC,EAAQH,MAAQD,EAAIW,KAAKP,UAG/B,4MAEA,MAAMZ,EAAkB,KACtBoB"}