var e=(e,l,a)=>new Promise((t,o)=>{var s=e=>{try{i(a.next(e))}catch(l){o(l)}},u=e=>{try{i(a.throw(e))}catch(l){o(l)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(s,u);i((a=a.apply(e,l)).next())});import{_ as l,r as a,V as t,n as o,ah as s,v as u,d as i,w as n,F as r,i as c,a as m,C as d,b as f,X as p,o as v,c as _,g as y,R as g,ay as b,y as x,x as T,p as h,aG as w,z as V,aF as C,f as k,aC as K,aH as j,aI as S,aJ as U,m as I}from"./index-DFl-DtYN.js";import{_ as M}from"./wd-button.D6KICA7_.js";import{_ as F}from"./wd-form.DL6TOz2J.js";import{_ as Y,a as R}from"./offering_selectPictures.DIyN2Ipm.js";import{_ as D,a as P,b as W,h as H}from"./moment.DbN2DK4j.js";import{u as E}from"./useMessage.D3KLi-Ii.js";import"./base64.DG4fya_b.js";import"./wd-toast.CkqgZtH9.js";import"./useChildren.Bm28azSF.js";import"./types.-oL-Sf5V.js";const z=l({__name:"from",setup(l){a(null);const z=t({renderType:1,submitType:1,methodtype:1,cate_id:0,type:void 0,condition:void 0,title:void 0,description:void 0,price:void 0,images:[],imagesRender:[],from:void 0,to:void 0,datetime:(new Date).getTime(),fromText:void 0,toText:void 0,dateText:void 0}),N=a(!0),O=a(""),G=a(0),L=a(!1),J=a(!1),B=a(!1),q={root:[{label:"Hong Kong Island",value:"Hong Kong Island"},{label:"Kowloon",value:"Kowloon"},{label:"New Territories",value:"New Territories"}],"Hong Kong Island":[{label:"Central and Western",value:"Central and Western"},{label:"Eastern",value:"Eastern"},{label:"Southern",value:"Southern"},{label:"Wan Chai",value:"Wan Chai"}],Kowloon:[{label:"Kowloon City",value:"Kowloon City"},{label:"Kwun Tong",value:"Kwun Tong"},{label:"Sham Shui Po",value:"Sham Shui Po"},{label:"Wong Tai Sin",value:"Wong Tai Sin"},{label:"Yau Tsim Mong",value:"Yau Tsim Mong"}],"New Territories":[{label:"Kwai Tsing",value:"Kwai Tsing"},{label:"North",value:"North"},{label:"Sai Kung",value:"Sai Kung"},{label:"Sha Tin",value:"Sha Tin"},{label:"Tai Po",value:"Tai Po"},{label:"Tsuen Wan",value:"Tsuen Wan"},{label:"Tuen Mun",value:"Tuen Mun"},{label:"Yuen Long",value:"Yuen Long"}]},A=a([q.root,q["Hong Kong Island"]]),Q=(e,l,a,t)=>{const o=l[a];0===a&&e.setColumnData(1,q[o.value]),t()},X=a((new Date).getTime()),$=()=>e(this,null,function*(){const e={methodtype:1};if(1==z.renderType||3==z.renderType){e.cate_id=z.cate_id,e.condition=z.condition,e.title=z.title,e.description=z.description,e.price=z.price,e.images=z.images.join(","),e.from=z.fromText,e.to=z.toText,e.datetime=z.dateText;200==(yield U(e)).code&&(N.value=!1)}else 2!=z.renderType&&4!=z.renderType||(N.value=!1);console.log(e)}),Z=()=>{N.value=!1};o(l=>e(this,null,function*(){console.log(l),z.renderType=l.method,z.submitType=l.type,z.cate_id=l.id,z.type=decodeURIComponent(l.name);const e=yield s({type:4});O.value=e.data.content}));const ee=()=>{j({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:e=>{S({url:"http://1131.mk-xy.com/api/index/upload",filePath:e.tempFilePaths[0],name:"file",success:e=>{console.log("上传结果: ",e);const l=JSON.parse(e.data);if(200!=l.code)return void E("File upload failed.");const{url:a,fullurl:t}=l.data;z.images.push(a),z.imagesRender.push(t)}})}})},le=()=>{console.log(z.from),z.from||(z.from=["Hong Kong Island","Central and Western"]),z.fromText=z.from.join(" "),L.value=!1},ae=()=>{z.to||(z.to=["Hong Kong Island","Central and Western"]),z.toText=z.to.join(" "),J.value=!1},te=()=>{z.dateText=H(z.datetime).format("YYYY-MM-DD"),B.value=!1},oe=()=>{G.value=G.value+1,2==G.value&&I("/pages/tracking/index")};return(e,l)=>{const a=c,t=m(f("wd-icon"),d),o=b,s=h,j=w,S=m(f("wd-button"),M),U=m(f("wd-form"),F),I=k,H=K,E=m(f("wd-picker-view"),Y),O=m(f("wd-popup"),p),q=m(f("wd-datetime-picker-view"),D);return v(),u(r,null,[i(a,{class:"container"},{default:n(()=>[i(a,{class:"content"},{default:n(()=>[i(a,{class:"title"},{default:n(()=>[y("Offer Details")]),_:1}),N.value?(v(),_(a,{key:0,class:"my_form"},{default:n(()=>[i(U,{ref:"form",model:z},{default:n(()=>[i(a,{style:{"font-size":"10px","font-weight":"normal","line-height":"normal","letter-spacing":"normal","text-decoration":"underline",color:"#949399","text-align":"right","margin-bottom":"14px"}},{default:n(()=>[i(t,{name:"tips",size:"14px"}),y(" Smart Recommendation ")]),_:1}),i(a,{class:"c-custom-from-item"},{default:n(()=>[i(a,{class:"c-custom-from-item-label"},{default:n(()=>[y(" Type")]),_:1}),i(a,{class:"c-custom-from-item-value"},{default:n(()=>[i(o,{class:"c-custom-input",disabled:!0,modelValue:z.type,"onUpdate:modelValue":l[0]||(l[0]=e=>z.type=e)},null,8,["modelValue"])]),_:1})]),_:1}),1==(null==z?void 0:z.submitType)?(v(),_(a,{key:0,class:"c-custom-from-item"},{default:n(()=>[i(a,{class:"c-custom-from-item-label"},{default:n(()=>[y(" Offerings Title")]),_:1}),i(a,{class:"c-custom-from-item-value"},{default:n(()=>[i(o,{class:"c-custom-input",modelValue:z.title,"onUpdate:modelValue":l[1]||(l[1]=e=>z.title=e)},null,8,["modelValue"])]),_:1})]),_:1})):g("",!0),2==(null==z?void 0:z.submitType)?(v(),_(a,{key:1,class:"c-custom-from-item"},{default:n(()=>[i(a,{class:"c-custom-from-item-label"},{default:n(()=>[y(" Request Title")]),_:1}),i(a,{class:"c-custom-from-item-value"},{default:n(()=>[i(o,{class:"c-custom-input",modelValue:z.title,"onUpdate:modelValue":l[2]||(l[2]=e=>z.title=e)},null,8,["modelValue"])]),_:1})]),_:1})):g("",!0),1==z.renderType||3==z.renderType?(v(),u(r,{key:2},[i(a,{class:"c-custom-from-item"},{default:n(()=>[i(a,{class:"c-custom-from-item-label"},{default:n(()=>[y(" From")]),_:1}),i(a,{class:"c-custom-from-item-value flex items-center",onClick:l[3]||(l[3]=x(e=>L.value=!0,["stop","prevent"]))},{default:n(()=>[i(a,{class:"c-custom-input w-full",style:{"font-size":"26rpx"}},{default:n(()=>[y(T(z.fromText),1)]),_:1}),i(s,{class:"from-icon",src:P,mode:"widthFix"})]),_:1})]),_:1}),i(a,{class:"c-custom-from-item"},{default:n(()=>[i(a,{class:"c-custom-from-item-label"},{default:n(()=>[y(" To")]),_:1}),i(a,{class:"c-custom-from-item-value flex items-center",onClick:l[4]||(l[4]=x(e=>J.value=!0,["stop","prevent"]))},{default:n(()=>[i(a,{class:"c-custom-input w-full",style:{"font-size":"26rpx"}},{default:n(()=>[y(T(z.toText),1)]),_:1}),i(s,{class:"from-icon",src:P,mode:"widthFix"})]),_:1})]),_:1}),i(a,{class:"c-custom-from-item"},{default:n(()=>[i(a,{class:"c-custom-from-item-label"},{default:n(()=>[y(" Date & Time")]),_:1}),i(a,{class:"c-custom-from-item-value flex items-center",onClick:l[5]||(l[5]=x(e=>B.value=!0,["stop","prevent"]))},{default:n(()=>[i(a,{class:"c-custom-input w-full"},{default:n(()=>[y(T(z.dateText),1)]),_:1}),i(s,{class:"from-icon",src:P,mode:"widthFix"})]),_:1})]),_:1})],64)):g("",!0),i(a,{class:"c-custom-from-item"},{default:n(()=>[i(a,{class:"c-custom-from-item-label"},{default:n(()=>[y(" Condition")]),_:1}),i(a,{class:"c-custom-from-item-value"},{default:n(()=>[i(o,{class:"c-custom-input",modelValue:z.condition,"onUpdate:modelValue":l[6]||(l[6]=e=>z.condition=e)},null,8,["modelValue"])]),_:1})]),_:1}),i(a,{class:"c-custom-from-item"},{default:n(()=>[i(a,{class:"c-custom-from-item-label"},{default:n(()=>[y(" Description")]),_:1}),i(a,{class:"c-custom-from-item-value",style:{"border-radius":"24rpx"}},{default:n(()=>[i(j,{class:"c-custom-input-textarea",maxlength:-1,modelValue:z.description,"onUpdate:modelValue":l[7]||(l[7]=e=>z.description=e)},null,8,["modelValue"]),i(a,{class:"select-image-icon",onClick:ee},{default:n(()=>[i(s,{src:R,mode:"widthFix"})]),_:1}),i(a,{class:"upload-image-list flex items-center flex-wrap"},{default:n(()=>[(v(!0),u(r,null,V(z.imagesRender,(e,l)=>(v(),_(s,{key:l,src:e,style:{width:"100rpx",height:"100rpx","border-radius":"20rpx",margin:"10rpx"}},null,8,["src"]))),128))]),_:1})]),_:1})]),_:1}),i(a,{class:"c-custom-from-item"},{default:n(()=>[i(a,{class:"c-custom-from-item-label"},{default:n(()=>[y(" Offering Price")]),_:1}),i(a,{class:"c-custom-from-item-value flex items-center"},{default:n(()=>[i(a,{class:"money-icon"},{default:n(()=>[y("$")]),_:1}),i(o,{class:"c-custom-input",modelValue:z.price,"onUpdate:modelValue":l[8]||(l[8]=e=>z.price=e)},null,8,["modelValue"])]),_:1})]),_:1}),i(a,{class:"c-custom-from-item flex items-center w-full justify-center"},{default:n(()=>[1==z.submitType?(v(),_(S,{key:0,style:{background:"#d35c78","border-radius":"16rpx"},onClick:$},{default:n(()=>[y(" LIST MY OFFERING ")]),_:1})):g("",!0),2==z.submitType?(v(),_(S,{key:1,style:{background:"#069db2","border-radius":"16rpx"},onClick:Z},{default:n(()=>[y(" LIST MY REQUEST ")]),_:1})):g("",!0)]),_:1})]),_:1},8,["model"])]),_:1})):(v(),_(a,{key:1,class:"police-rule"},{default:n(()=>[0==G.value?(v(),u(r,{key:0},[i(a,{class:"main_logo"},{default:n(()=>[i(s,{style:{width:"200rpx",height:"200rpx","margin-bottom":"100rpx"},src:W,mode:"widthFix"})]),_:1}),i(a,{style:{color:"#979797","font-weight":"bold","font-size":"32rpx","text-align":"center"}},{default:n(()=>[y(" Before using the service, you care minded you "),i(I,{style:{color:"red"}},{default:n(()=>[y("must comply")]),_:1}),y(" with the ldleMan "),i(I,{style:{"text-decoration":"underline"}},{default:n(()=>[y("Terms and Conditions")]),_:1}),y(" ，Hong Kong Ordinances and Regulations. "),C("br"),C("br"),y(" You "),i(I,{style:{color:"red"}},{default:n(()=>[y("must not")]),_:1}),y(" perform unlawful activities in ldleMan service. "),C("br"),C("br"),y(" ldleMan is not liable for your unlawful act. "),C("br"),C("br")]),_:1})],64)):g("",!0),1==G.value?(v(),_(a,{key:1,style:{"text-align":"center","margin-top":"20rpx"}},{default:n(()=>[y(" You have successfully submitted your listing! ")]),_:1})):g("",!0),i(a),i(H,{class:"agree-button",onClick:oe},{default:n(()=>[y(T(0==G.value?"AGREE":"Back"),1)]),_:1})]),_:1}))]),_:1})]),_:1}),i(O,{modelValue:L.value,"onUpdate:modelValue":l[11]||(l[11]=e=>L.value=e),position:"bottom","custom-style":"border-radius: 32rpx 32rpx 0 0"},{default:n(()=>[i(a,{class:"popup-header flex items-center justify-between p-3"},{default:n(()=>[i(a,{onClick:l[9]||(l[9]=e=>L.value=!1)},{default:n(()=>[y("Cancel")]),_:1}),i(a,{class:"color-[#235597]",onClick:le},{default:n(()=>[y(" Confirm ")]),_:1})]),_:1}),i(E,{columns:A.value,modelValue:z.from,"onUpdate:modelValue":l[10]||(l[10]=e=>z.from=e),"column-change":Q},null,8,["columns","modelValue"])]),_:1},8,["modelValue"]),i(O,{modelValue:J.value,"onUpdate:modelValue":l[14]||(l[14]=e=>J.value=e),position:"bottom","custom-style":"border-radius: 32rpx 32rpx 0 0"},{default:n(()=>[i(a,{class:"popup-header flex items-center justify-between p-3"},{default:n(()=>[i(a,{onClick:l[12]||(l[12]=e=>J.value=!1)},{default:n(()=>[y("Cancel")]),_:1}),i(a,{class:"color-[#235597]",onClick:ae},{default:n(()=>[y(" Confirm ")]),_:1})]),_:1}),i(E,{columns:A.value,modelValue:z.to,"onUpdate:modelValue":l[13]||(l[13]=e=>z.to=e),"column-change":Q},null,8,["columns","modelValue"])]),_:1},8,["modelValue"]),i(O,{modelValue:B.value,"onUpdate:modelValue":l[17]||(l[17]=e=>B.value=e),position:"bottom","custom-style":"border-radius: 32rpx 32rpx 0 0"},{default:n(()=>[i(a,{class:"popup-header flex items-center justify-between p-3"},{default:n(()=>[i(a,{onClick:l[15]||(l[15]=e=>B.value=!1)},{default:n(()=>[y("Cancel")]),_:1}),i(a,{class:"color-[#235597]",onClick:te},{default:n(()=>[y(" Confirm ")]),_:1})]),_:1}),i(q,{modelValue:z.datetime,"onUpdate:modelValue":l[16]||(l[16]=e=>z.datetime=e),minDate:X.value,type:"date"},null,8,["modelValue","minDate"])]),_:1},8,["modelValue"])],64)}}},[["__scopeId","data-v-653c5e4d"]]);export{z as default};
//# sourceMappingURL=pages-chooseOffering-from.CJ640zx7.js.map
