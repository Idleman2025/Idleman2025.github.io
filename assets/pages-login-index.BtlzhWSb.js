import{_ as e,u as a,r as s,a as o,b as t,c as r,o as l,w as n,d as u,e as c,i as d,f as i,g as p,h as m,j as f,k as _,l as g,m as w,n as h,p as v}from"./index-DFl-DtYN.js";import{_ as b}from"./wd-toast.CkqgZtH9.js";import{_ as x}from"./wd-input.BD5CBlYQ.js";import{_ as j}from"./wd-button.D6KICA7_.js";import{_ as k}from"./wd-form.DL6TOz2J.js";import{u as y}from"./useMessage.D3KLi-Ii.js";import"./base64.DG4fya_b.js";import"./useCell.DipFQ9Q4.js";import"./useParent.DMlHlYUx.js";import"./types.-oL-Sf5V.js";import"./useTranslate.CFzme_Ny.js";import"./useChildren.Bm28azSF.js";const C=""+new URL("logo-DF-3YGu_.png",import.meta.url).href,I=e({__name:"loginForm",setup(e){const h=a(),v=s(null),b=s({account:"",password:""}),C=s(!1),I=()=>{v.value.validate().then(e=>{return a=this,s=[e],o=function*({valid:e,errors:a}){if(e){const e=yield g(b.value);if(200!=e.code)return void y(e.msg);h.setUserInfo(e.data.userinfo),w("/pages/home/index")}},new Promise((e,t)=>{var r=e=>{try{n(o.next(e))}catch(a){t(a)}},l=e=>{try{n(o.throw(e))}catch(a){t(a)}},n=a=>a.done?e(a.value):Promise.resolve(a.value).then(r,l);n((o=o.apply(a,s)).next())});var a,s,o}).catch(e=>{console.log(e,"error")})},P=()=>{_("/pages/register/index")};return(e,a)=>{const s=i,g=o(t("wd-input"),x),w=d,h=f,y=m,V=o(t("wd-button"),j),F=o(t("wd-form"),k);return l(),r(w,{class:"cont"},{default:n(()=>[u(F,{ref_key:"login_form_ref",ref:v,model:c(b)},{default:n(()=>[u(w,{class:"input-group"},{default:n(()=>[u(s,{class:"label"},{default:n(()=>[p("Email")]),_:1}),u(w,{class:"input_content"},{default:n(()=>[u(g,{"custom-class":"customWdInput",prop:"account",modelValue:c(b).account,"onUpdate:modelValue":a[0]||(a[0]=e=>c(b).account=e),placeholder:"example@example.com",rules:[{required:!0,pattern:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"please enter a valid email address"}]},null,8,["modelValue","rules"])]),_:1})]),_:1}),u(w,{class:"input-group"},{default:n(()=>[u(w,{class:"input_content"},{default:n(()=>[u(g,{"custom-class":"customWdInput",prop:"password",modelValue:c(b).password,"onUpdate:modelValue":a[1]||(a[1]=e=>c(b).password=e),"prefix-icon":"lock-on","show-password":"",placeholder:"Password",rules:[{required:!0,message:"please enter your password"}]},null,8,["modelValue"])]),_:1})]),_:1}),u(w,{class:"action-row"},{default:n(()=>[u(y,{class:"remember-me"},{default:n(()=>[u(h,{checked:c(C),onChange:a[2]||(a[2]=e=>C.value=!c(C)),color:"rgb(70,155,175)"},null,8,["checked"]),u(s,null,{default:n(()=>[p("Remember me")]),_:1})]),_:1}),u(s,{class:"forgot-password",onClick:a[3]||(a[3]=e=>c(_)("/pages/register/index",{startStep:2,action:"reset"}))},{default:n(()=>[p(" Forgot Password ")]),_:1})]),_:1}),u(V,{"custom-class":"login-btn","custom-style":"backgroundColor: rgb(70,155,175)",type:"primary",size:"large",onClick:I,block:""},{default:n(()=>[p("LOGIN ")]),_:1})]),_:1},8,["model"]),u(w,{class:"footer",onClick:P},{default:n(()=>[u(s,{class:"footer-text"},{default:n(()=>[p("Don't have account?")]),_:1}),u(s,{class:"create-account"},{default:n(()=>[p("Create a new account")]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-5af0977b"]]),P=e({__name:"index",setup(e){const s=a();return h(()=>{s.isLogin&&w("/pages/home/index")}),(e,a)=>{const s=o(t("wd-toast"),b),c=v,i=d;return l(),r(i,{class:"container"},{default:n(()=>[u(s),u(i,{class:"content"},{default:n(()=>[u(i,{class:"main_logo"},{default:n(()=>[u(c,{style:{width:"100%"},src:C,mode:"widthFix"})]),_:1}),u(i,{class:"footer_fakePopup"},{default:n(()=>[u(I)]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-2a8b7220"]]);export{P as default};
//# sourceMappingURL=pages-login-index.BtlzhWSb.js.map
