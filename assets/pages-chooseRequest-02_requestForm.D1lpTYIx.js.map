{"version":3,"file":"pages-chooseRequest-02_requestForm.D1lpTYIx.js","sources":["../../../../src/pages/chooseRequest/02_requestForm.vue"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <wd-toast />\n    <view class=\"content\">\n      <!-- ==================== 标题区域 ==================== -->\n      <view class=\"title\">Requset Details</view>\n      <!-- ==================== 表单区域 ==================== -->\n      <view class=\"my_form\">\n        <wd-form ref=\"formRef\" :model=\"formData\">\n          <!-- ------------------ 灯泡文字，智能推荐 ------------------ -->\n          <view\n            style=\"\n\n              font-size: 10px;\n              font-weight: normal;\n              line-height: normal;\n              letter-spacing: normal;\n              text-decoration: underline;\n              color: #949399;\n              text-align: right;\n              margin-bottom: 14px;\n            \"\n          >\n            <wd-icon name=\"tips\" size=\"8px\"></wd-icon>\n            Smart Recommendation</view\n          >\n          <!-- ------------------ Type选项 ------------------ -->\n          <wd-cell-group\n            custom-class=\"custom_WotCellGroud\"\n            custom-label-class=\"custom_WotCellTitleFont\"\n            title=\"Type\"\n            border\n          >\n            <!-- <wd-cell center custom-label-class=\"custom_WotCellTitleFont\"> -->\n            <wd-drop-menu custom-class=\"custom_WotDropMenu\"\n              ><wd-drop-menu-item\n                custom-class=\"custom_WotDropMenuItem\"\n                custom-popup-class=\"custom_WotDropMenuPopup\"\n                prop=\"type\"\n                :rules=\"[\n                  {\n                    required: true,\n                    message: 'please choose a option',\n                  },\n                ]\"\n                v-model=\"formData.type\"\n                :options=\"type_options\"\n            /></wd-drop-menu>\n            <!-- </wd-cell> -->\n          </wd-cell-group>\n          <!-- ------------------ Offerings Title选项 ------------------ -->\n          <wd-cell-group\n            custom-class=\"custom_WotCellGroud\"\n            custom-label-class=\"custom_WotCellTitleFont\"\n            title=\"Offerings Title\"\n            border\n          >\n            <!-- <wd-cell center custom-label-class=\"custom_WotCellTitleFont\"> -->\n            <wd-drop-menu custom-class=\"custom_WotDropMenu\"\n              ><wd-drop-menu-item\n                custom-class=\"custom_WotDropMenuItem\"\n                custom-popup-class=\"custom_WotDropMenuPopup\"\n                prop=\"offeringsTitle\"\n                :rules=\"[\n                  {\n                    required: true,\n                    message: 'please choose a option',\n                  },\n                ]\"\n                v-model=\"formData.offeringsTitle\"\n                :options=\"type_options\"\n            /></wd-drop-menu>\n            <!-- </wd-cell> -->\n          </wd-cell-group>\n          <!-- ------------------ Condition选项 ------------------ -->\n          <wd-cell-group\n            custom-class=\"custom_WotCellGroud\"\n            custom-label-class=\"custom_WotCellTitleFont\"\n            title=\"Condition\"\n            border\n          >\n            <!-- <wd-cell center custom-label-class=\"custom_WotCellTitleFont\"> -->\n            <wd-drop-menu custom-class=\"custom_WotDropMenu\"\n              ><wd-drop-menu-item\n                custom-class=\"custom_WotDropMenuItem\"\n                custom-popup-class=\"custom_WotDropMenuPopup\"\n                prop=\"condition\"\n                :rules=\"[\n                  {\n                    required: true,\n                    message: 'please choose a option',\n                  },\n                ]\"\n                v-model=\"formData.condition\"\n                :options=\"type_options\"\n            /></wd-drop-menu>\n            <!-- </wd-cell> -->\n          </wd-cell-group>\n          <!-- ------------------ Description选项 ------------------ -->\n          <wd-cell-group\n            custom-class=\"custom_WotCellGroud\"\n            custom-label-class=\"custom_WotCellTitleFont\"\n            title=\"Description\"\n            border\n          >\n            <!-- <wd-cell center custom-label-class=\"custom_WotCellTitleFont\"> -->\n            <wd-textarea\n              prop=\"description\"\n              v-model=\"formData.description\"\n              :rules=\"[\n                {\n                  required: true,\n                  message: 'please type something here',\n                },\n              ]\"\n              :maxlength=\"120\"\n              clearable\n              show-word-limit\n            />\n            <!-- </wd-cell> -->\n          </wd-cell-group>\n          <!-- ------------------ Offering Price选项 ------------------ -->\n          <wd-cell-group\n            custom-class=\"custom_WotCellGroud\"\n            custom-label-class=\"custom_WotCellTitleFont\"\n            title=\"Offering Price\"\n            border\n          >\n            <view style=\"padding: 14px; box-sizing: border-box; width: 100%\">\n              <wd-input\n                type=\"number\"\n                prop=\"offeringPrice\"\n                v-model=\"formData.offeringPrice\"\n                :rules=\"[\n                  {\n                    required: true,\n                    message: 'please type a number here',\n                  },\n                ]\"\n                custom-style=\"text-align:right;\"\n              >\n                <template #prefix>\n                  <view style=\"font-size: 16px\">$</view>\n                </template>\n              </wd-input>\n            </view>\n          </wd-cell-group>\n          <!-- ------------------ 提交选项选项 ------------------ -->\n          <wd-cell-group>\n            <wd-button\n              type=\"primary\"\n              size=\"large\"\n              @click=\"handleSubmit\"\n              block\n              custom-style=\"background-color: #469baf; color: #ffffff; margin-top: 40px;\"\n              >LIST MY REQUEST</wd-button\n            >\n          </wd-cell-group>\n        </wd-form>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\n// wd的吐司弹窗提示组件\nimport { useToast } from \"@/uni_modules/wot-design-uni\"\nconst toast = useToast()\n\n// ==================================== 路由跳转相关 ====================================\nimport {\n  useNavigate,\n  useSwitchTab,\n  flattenToNestedObject,\n} from \"@/hooks/useNavigate\"\n\n// 简单的返回上一级页面，使用uni.navigateBack\nconst handleClickLeft = () => {\n  uni.navigateBack()\n}\n\n// 复杂的路由跳转,普通子页面使用封装好的： useNavigate\nconst jumpXxxPage = (url) => {\n  // useNavigate(url, { ...params })\n  useNavigate(url)\n}\n\n// 复杂的路由跳转,tabbar页面使用封装好的： useSwitchTab\nconst jumpXxxTabbar = (url) => {\n  // useSwitchTab(url, { ...params })\n  useSwitchTab(url)\n}\n// =======================================================================================\n\n// ===================================== 必要的数据准备 ========================================\nconst formRef = ref(null)\nconst formData = reactive({\n  type: \"Apparel\",\n  offeringsTitle: \"Delivery Service\",\n  condition: \"Electric Appliance\",\n  description: \"\",\n  offeringPrice: \"\",\n})\nconst type_options = [\n  { label: \"Delivery Service\", value: \"Delivery Service\" },\n  { label: \"Apparel\", value: \"Apparel\" },\n  { label: \"Electric Appliance\", value: \"Electric Appliance\" },\n  { label: \"Other\", value: \"Other\" },\n]\n\nconst handleSubmit = () => {\n  useNavigate(\"/pages/chooseRequest/03_requestDetail\", {\n    formData: formData.value,\n    whitchItem: prePage_options.value,\n  })\n  formRef.value\n    .validate()\n    .then(async ({ valid, errors }) => {\n      if (valid) {\n        console.log(\"表单验证通过\", formData.value)\n      }\n    })\n    .catch((error) => {\n      console.log(error, \"error\")\n    })\n}\n\n// 页面数据加载\nconst prePage_options = ref(null)\nonLoad(async (options) => {\n  console.log(\"------------------------- {request} --------------------------\")\n  const NestedObjectOptions = flattenToNestedObject(options)\n  console.log(\"NestedObjectOptions\", NestedObjectOptions)\n  prePage_options.value = NestedObjectOptions\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  width: 100%;\n  min-height: 100vh;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.content {\n  width: 100%;\n  min-height: 100vh;\n  padding-bottom: 100px;\n  box-sizing: border-box;\n  background-color: #f4f6fe;\n}\n\n/* ------------------------ 标题区域 ----------------------- */\n.title {\n  width: 100%;\n  height: 200px;\n  padding: 20px;\n  box-sizing: border-box;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n\n  background-color: #235597;\n\n  font-size: 20px;\n  font-weight: 900;\n  line-height: normal;\n  letter-spacing: 0px;\n\n\n  color: #ffffff;\n}\n\n/* ---------------- 四个选项的通用代码 ---------------------*/\n.my_form {\n  width: 100%;\n  height: auto;\n\n  padding: 14px;\n  box-sizing: border-box;\n\n  margin-bottom: 10px;\n  .custom_WotCellGroud {\n    border-radius: 10px;\n    overflow: hidden;\n    box-shadow: 1px 1px 1px 1px rgba(126, 126, 126, 0.25);\n    margin-bottom: 10px;\n\n\n    font-size: 18px;\n    font-weight: 600;\n    line-height: normal;\n    letter-spacing: normal;\n    color: #3d3d3d;\n  }\n  .custom_WotCellTitleFont {\n\n    font-size: 18px;\n    font-weight: 500;\n    line-height: normal;\n    letter-spacing: normal;\n    color: #3d3d3d;\n  }\n  .custom_WotDropMenu,\n  .custom_WotDropMenuItem,\n  .custom_WotDropMenuPopup {\n\n    font-size: 16px;\n    font-weight: 500;\n    line-height: normal;\n    letter-spacing: normal;\n    color: #3d3d3d;\n  }\n  .custom_WotDropMenuPopup {\n    width: 50% !important;\n    width: 100px !important;\n    margin: 14px;\n    box-sizing: border-box;\n    background-color: transparent;\n  }\n}\n</style>\n"],"names":["useToast","formRef","ref","formData","reactive","type","offeringsTitle","condition","description","offeringPrice","type_options","label","value","handleSubmit","useNavigate","whitchItem","prePage_options","validate","then","_0","__async","this","valid","errors","console","log","catch","error","onLoad","options","NestedObjectOptions","flattenToNestedObject"],"mappings":"01BAuKcA,IA4Bd,MAAMC,EAAUC,EAAI,MACdC,EAAWC,EAAS,CACxBC,KAAM,UACNC,eAAgB,mBAChBC,UAAW,qBACXC,YAAa,GACbC,cAAe,KAEXC,EAAe,CACnB,CAAEC,MAAO,mBAAoBC,MAAO,oBACpC,CAAED,MAAO,UAAWC,MAAO,WAC3B,CAAED,MAAO,qBAAsBC,MAAO,sBACtC,CAAED,MAAO,QAASC,MAAO,UAGrBC,EAAe,KACnBC,EAAY,wCAAyC,CACnDX,SAAUA,EAASS,MACnBG,WAAYC,EAAgBJ,QAE9BX,EAAQW,MACLK,WACAC,KAAYC,GAAsBC,EAAAC,KAAA,CAAtBF,GAAsB,WAAtBG,MAAEA,EAAAC,OAAOA,IAChBD,GACFE,QAAQC,IAAI,SAAUtB,EAASS,MAEvC,IACKc,MAAOC,IACNH,QAAQC,IAAIE,EAAO,YAKnBX,EAAkBd,EAAI,aAC5B0B,EAAcC,GAAYT,EAAAC,KAAA,KAAA,YACxBG,QAAQC,IAAI,kEACZ,MAAMK,EAAsBC,EAAsBF,GAClDL,QAAQC,IAAI,sBAAuBK,GACnCd,EAAgBJ,MAAQkB,CAC1B"}