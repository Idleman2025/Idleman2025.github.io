{"version":3,"file":"pages-explore-index.UxpY_5MR.js","sources":["../../../../src/pages/explore/index.vue"],"sourcesContent":["<template>\n  <z-paging ref=\"paging\" v-model=\"dataList\" @query=\"onLoadList\">\n    <template #top>\n      <!-- ======================= 标题栏 ======================= -->\n      <SafeTopContainer>\n        <view class=\"nav-bar\">\n          <view class=\"nav-left\" @click=\"handleClickLeft\">\n            <wd-icon name=\"thin-arrow-left\" color=\"#fff\" size=\"22px\"></wd-icon>\n          </view>\n          <view class=\"nav-title\">Explore</view>\n        </view>\n      </SafeTopContainer>\n\n      <!-- ======================= 顶部Tab栏 ======================= -->\n      <view class=\"tab-bar\">\n        <view\n          class=\"tab-item\"\n          :class=\"{ active_Requests: activeTab == 2 }\"\n          @click=\"handleChangeTab(2)\"\n        >\n          Requests\n        </view>\n        <view\n          class=\"tab-item\"\n          :class=\"{ active_Offerings: activeTab == 1 }\"\n          @click=\"handleChangeTab(1)\"\n        >\n          Offerings\n        </view>\n      </view>\n      <!-- ======================= 搜索栏区域 ======================= -->\n      <view class=\"search-bar\">\n        <view class=\"input_content\">\n          <wd-input\n            custom-class=\"customWdInput\"\n            v-model=\"searchText\"\n            placeholder=\"I’m looking for....\"\n            suffix-icon=\"search\"\n            :adjust-position=\"false\"\n            @clicksuffixicon=\"handleSearch\"\n            @confirm=\"handleSearch\"\n          />\n        </view>\n        <view class=\"search-setting\" @click=\"handleOpenFilterPopup\">\n          <image\n            :src=\"topPicks_titleSettingIcon\"\n            mode=\"widthFix\"\n            style=\"width: 100%\"\n          />\n        </view>\n      </view>\n    </template>\n    <template #default>\n      <!-- ======================= Tab内容区域======================= -->\n      <OrderCard\n        v-for=\"item in dataList\"\n        :dataSource=\"item\"\n        :key=\"item.id\"\n        :type=\"activeTab\"\n        @click=\"handleClickItem\"\n      />\n    </template>\n    <template #bottom>\n      <FilterPopup v-model=\"showFilter\" @apply=\"handleApplyFilter\" @reset=\"handleApplyFilter\"/>\n      <CustomTabbar/>\n    </template>\n  </z-paging>\n</template>\n\n<script setup>\nimport topPicks_titleSettingIcon from \"@/static/home/topPicks_titleSettingIcon.png\"\n\nimport SafeTopContainer from \"@/components/SafeTopContainer.vue\"\nimport { indexOrders } from \"@/api/totalApi\"\nimport { useNavigate } from \"@/hooks/useNavigate\"\nimport OrderCard from \"@/components/OrderCard.vue\"\nimport FilterPopup from \"@/components/FilterPopup.vue\"\nimport { ref } from \"vue\"\nimport CustomTabbar from \"@/components/CustomTabbar.vue\"\n\nconst paging = ref()\nconst dataList = ref([])\n\nconst queryFrom = ref()\n\nconst handleApplyFilter = (event) => {\n  queryFrom.value = {\n    methodin: event.methodin,\n    pricein: event.pricein,\n    to: event.to,\n  }\n\n  paging.value.reload()\n}\n\nconst onLoadList = async (page, pageSize) => {\n  const params = {\n    page,\n    rows: pageSize,\n    methodtype: activeTab.value,\n  }\n  if (queryFrom.value?.methodin) {\n    params.methodin = queryFrom.value.methodin\n  }\n\n  if (queryFrom.value?.pricein) {\n    params.pricein = queryFrom.value.pricein.join(\",\")\n  }\n\n  if (queryFrom.value?.to) {\n    params.to = queryFrom.value.to\n  }\n\n  const r = await indexOrders(params)\n  paging.value.complete(r.data.data)\n}\n\nconst searchText = ref(\"\") // 搜索框文本\nconst activeTab = ref(2)\n\n// =================================== 实现筛选功能 ===================================\n// 定义是否显示过滤筛选弹窗\nconst showFilter = ref(false)\n// 点击搜索框图标时触发的函数\nconst handleOpenFilterPopup = () => {\n  showFilter.value = true\n}\n\nconst handleChangeTab = type => {\n  activeTab.value = type\n  paging.value.reload()\n}\n\nconst handleSearch = () => {\n  useNavigate(\"/pages/search/result\", {keyword: searchText.value})\n  searchText.value = \"\"\n}\n\nconst handleClickItem = order => {\n  useNavigate(\"/pages/tracking/info\", {id: order.id, match: 1})\n}\n\n</script>\n<style>\npage {\n  background: #F1EDEA;\n}\n</style>\n<style lang=\"scss\" scoped>\n// 页面容器（必需）\n.container {\n  width: 100%;\n  min-height: 100vh;\n  box-sizing: border-box; // 若页面涉及padding，统一在padding后续上：box-sizing: border-box;\n\n  // 建议的flex布局（可选）\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n// =================== 导航栏 ===================\n.nav-bar {\n  display: flex;\n  align-items: center;\n  background-color: #235597;\n  height: 64px;\n  padding: 0 16px;\n  box-sizing: border-box;\n}\n\n.nav-left {\n  width: 20px;\n  height: 20px;\n}\n\n.nav-left image {\n  width: 100%;\n  height: 100%;\n}\n\n.nav-title {\n  font-size: 19.99px;\n  font-weight: normal;\n  line-height: normal;\n  letter-spacing: 0px;\n\n  color: #ffffff;\n  flex: 1;\n  text-align: center;\n}\n\n// ============================= 搜索栏区域 =============================\n.search-bar {\n  width: 100%;\n  height: 80px;\n  padding: 18px;\n  box-sizing: border-box;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  // 搜索框\n  // 整一个大框，配置内容\n  .input_content {\n    width: 100%; // 宽度100%;\n\n    .customWdInput {\n      width: 100%; // 宽度100%;\n      height: 46px;\n      padding: 12px;\n      box-sizing: border-box;\n\n      display: flex;\n      justify-content: space-between; // 左右对齐\n      align-items: center;\n\n      border-radius: 8px;\n      border: 2px solid rgb(35, 85, 151);\n      overflow: hidden;\n      background-color: #fff;\n\n      :deep() {\n        .wd-icon {\n          background-color: #fff;\n          color: rgb(70, 155, 175);\n          font-weight: 500;\n          font-size: 22px;\n        }\n      }\n    }\n  }\n\n  // 搜索设置\n  .search-setting {\n    // border: 1px solid greenyellow;\n    margin-left: 20px;\n    width: 36px;\n    height: 366px;\n\n    display: flex;\n    justify-content: center; // 水平居中\n    align-items: center; // 垂直居中\n  }\n}\n\n/* =================== Tab栏样式 =================== */\n.tab-bar {\n  display: flex;\n  background-color: #235597;\n  color: white;\n  height: 44px;\n  line-height: 44px;\n}\n\n.tab-item {\n  flex: 1;\n  text-align: center;\n  position: relative;\n}\n\n// 激活状态的Tab样式\n.tab-item.active_Requests {\n  border-bottom: 4px solid #469baf;\n}\n\n.tab-item.active_Offerings {\n  border-bottom: 4px solid #c46379;\n}\n\n/* 列表项卡片（单个卡片）样式 */\n.item-card {\n  // margin: 12px; // 为适配上面搜索框，把顶部 外边距 都去掉了\n  // padding: 12px;\n\n  margin-left: 12px;\n  margin-right: 12px;\n  margin-bottom: 12px;\n  padding: 12px;\n\n  box-sizing: border-box;\n  background-color: white;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n}\n\n.item-icon {\n  width: 60px;\n  height: 60px;\n  padding: 10px;\n  margin-right: 12px;\n  // box-sizing: border-box;\n\n  background-color: #f0edea;\n  border-radius: 50%;\n\n  display: flex;\n  justify-content: center; // 水平居中\n  align-items: center; // 垂直居中\n  overflow: hidden;\n}\n\n.item-content {\n  flex: 1;\n}\n\n.item-title {\n  font-size: 16px;\n  margin-bottom: 4px;\n}\n\n.item-desc {\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 4px;\n  display: flex;\n  justify-content: flex-start; // 水平居左\n  align-items: center; // 垂直居中;\n\n  .desc_icon {\n    width: 20rpx;\n    height: 20rpx;\n    margin-right: 4px;\n    border-radius: 50%;\n\n    display: flex;\n    justify-content: center; // 水平居中\n    align-items: center; // 垂直居中\n    // overflow: hidden;\n  }\n}\n\n.item-price {\n\n  font-size: 14px;\n  font-weight: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: #9a9a9a;\n\n  display: flex;\n  justify-content: flex-start; // 水平居左\n  align-items: center; // 垂直居中;\n  .price_icon {\n    width: 16px;\n    height: 16px;\n    margin-right: 4px;\n    border-radius: 50%;\n\n    display: flex;\n    justify-content: center; // 水平居中\n    align-items: center; // 垂直居中\n    // overflow: hidden;\n  }\n}\n\n.item-arrow {\n  color: #0099cc;\n  font-size: 16px;\n\n  .arow_icon {\n    width: 16px;\n    height: 16px;\n    margin-right: 4px;\n    border-radius: 50%;\n\n    display: flex;\n    justify-content: center; // 水平居中\n    align-items: center; // 垂直居中\n    // overflow: hidden;\n  }\n}\n\n// ====================================== 底部 条件过滤弹出层 ======================================\n.custom_WotPopup {\n  z-index: 99999;\n  width: 100%;\n\n  .popup_container {\n    width: 100%;\n    min-height: 300px;\n    height: auto;\n\n    padding: 14px;\n    padding-bottom: 100px;\n    box-sizing: border-box;\n\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n    // overflow: hidden;\n\n    background-color: #f0edea;\n    // background-color: #412306;\n  }\n\n  // ------------------- 单选框组样式 -------------------\n  .radio_container {\n    width: 100%;\n\n    .radio_title {\n\n      font-size: 16.99px;\n      font-weight: normal;\n      line-height: normal;\n      letter-spacing: normal;\n      color: #828185;\n    }\n\n    .radio_oneline {\n      width: 100%;\n      height: 40px;\n      // border: 1px solid #8d7cd4;\n\n      display: flex;\n      justify-content: flex-start;\n      align-items: center; // 垂直居中\n      gap: 10px; // 间距为10px\n    }\n\n    :deep() {\n      .wd-radio-group {\n        background-color: transparent !important;\n      }\n\n      .wd-radio__label {\n\n        font-size: 14px;\n        font-weight: normal;\n        line-height: normal;\n        letter-spacing: normal;\n        color: #828185;\n      }\n    }\n  }\n\n  // ------------------- 范围条样式 -------------------\n  .slide_title {\n\n    font-size: 16.99px;\n    font-weight: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    color: #828185;\n    margin-bottom: 30px;\n  }\n\n  .slide_container {\n    padding: 0 10px;\n    box-sizing: border-box;\n    width: 100%;\n    // height: 90px;\n    // border: 1px solid #7e69cf;\n\n    .silde_min_and_max {\n      width: 100%;\n      margin-top: 30px;\n      display: flex;\n      justify-content: space-between; // 水平两端对齐\n      align-items: center; // 垂直居中\n\n\n      font-size: 14px;\n      font-weight: normal;\n      line-height: normal;\n      letter-spacing: normal;\n      color: #828185;\n    }\n\n    :deep() {\n      .wd-slider__button-wrapper,\n      .wd-slider__label {\n        width: 50px;\n        height: 50px;\n        border-radius: 50%;\n        background-color: #6788eb69;\n        // background-color: transparent;\n        border: 1px solid #6788eb69;\n        display: flex;\n        justify-content: center; // 水平居中\n        align-items: center; // 垂直居中\n      }\n    }\n  }\n\n  // ------------------- 开关样式 -------------------\n  .switch_container {\n    width: 100%;\n    height: 60px;\n    // border: 1px solid #7e69cf;\n\n    display: flex;\n    justify-content: space-between; // 水平两端对齐\n    align-items: center; // 垂直居中\n\n    // height: 60px;\n    .switch_title {\n\n      font-size: 16.99px;\n      font-weight: normal;\n      letter-spacing: normal;\n      color: #828185;\n    }\n  }\n\n  // ------------------- 底部按钮 -------------------\n  .bottom_btn {\n    width: 100%;\n    height: 60px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n}\n</style>\n"],"names":["paging","ref","dataList","queryFrom","handleApplyFilter","event","value","methodin","pricein","to","reload","onLoadList","page","pageSize","__async","this","params","rows","methodtype","activeTab","_a","_b","join","_c","r","indexOrders","complete","data","searchText","showFilter","handleOpenFilterPopup","handleChangeTab","type","handleSearch","useNavigate","keyword","handleClickItem","order","id","match"],"mappings":"m5BAgFA,MAAMA,EAASC,IACTC,EAAWD,EAAI,IAEfE,EAAYF,IAEZG,EAAqBC,IACzBF,EAAUG,MAAQ,CAChBC,SAAUF,EAAME,SAChBC,QAASH,EAAMG,QACfC,GAAIJ,EAAMI,IAGZT,EAAOM,MAAMI,UAGTC,EAAa,CAAOC,EAAMC,KAAaC,SAAAC,OAAA,OAAA,sBAC3C,MAAMC,EAAS,CACbJ,OACAK,KAAMJ,EACNK,WAAYC,EAAUb,QAEpB,OAAAc,EAAAjB,EAAUG,YAAV,EAAAc,EAAiBb,YACnBS,EAAOT,SAAWJ,EAAUG,MAAMC,WAGhC,OAAAc,EAAAlB,EAAUG,YAAV,EAAAe,EAAiBb,WACnBQ,EAAOR,QAAUL,EAAUG,MAAME,QAAQc,KAAK,OAG5C,OAAAC,EAAApB,EAAUG,YAAV,EAAAiB,EAAiBd,MACnBO,EAAOP,GAAKN,EAAUG,MAAMG,IAG9B,MAAMe,QAAUC,EAAYT,GAC5BhB,EAAOM,MAAMoB,SAASF,EAAEG,KAAKA,KAC/B,2MAEMC,EAAa3B,EAAI,IACjBkB,EAAYlB,EAAI,GAIhB4B,EAAa5B,GAAI,GAEjB6B,EAAwB,KAC5BD,EAAWvB,OAAQ,GAGfyB,EAAkBC,IACtBb,EAAUb,MAAQ0B,EAClBhC,EAAOM,MAAMI,UAGTuB,EAAe,KACnBC,EAAY,uBAAwB,CAACC,QAASP,EAAWtB,QACzDsB,EAAWtB,MAAQ,IAGf8B,EAAkBC,IACtBH,EAAY,uBAAwB,CAACI,GAAID,EAAMC,GAAIC,MAAO"}