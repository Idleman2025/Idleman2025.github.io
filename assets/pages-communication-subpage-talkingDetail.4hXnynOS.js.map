{"version":3,"file":"pages-communication-subpage-talkingDetail.4hXnynOS.js","sources":["../../../../src/static/communication/sendMessage.png","../../../../src/pages/communication/subpage/talkingDetail.vue"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAPzSURBVFiFzZlNayRFGICft2aimUxnNoGw5KC3HAT/QMSII0aM4EFhBcU9LOjBoIGICArxtAcVVgwo7IoED7Kw4HpSiMtGdoRdyGFvKuQQ0IOHEAObTHo+iD39esh07JnM9HR1T2Z8Tv1RHw/VRfVbbwkJUdXR6hHP47OgShF4LLoC+yqUjGFDPb53HNlJ0q/YVjg40JnMCG8DF4GpJJ0CHsJGBq7kcvKzTcXYwuWyTskIH4tyCcjaGkZwvwFL58ZkM07hWMKHVX1VlKsIE+ncIkSEa5VD3j9/XtzIclEvVTVbqfI1wqW+2nW3+c3/h1cKBdnqXqQLu7vq5B3WFebOxq4re77Hy4WC3O30sqPwEGUBUHDV44VO0qeEVTVbqfMDysJg9Lqy53s81T49THupSp3LKWU94AZwBUi01jaZMiN8t7urTvhhywgfHmpRMtxJ0Ymn8Nr4mNwEcF2dJsMdtMdPJQIRruVzsnhyH1w0p8KvKRpvkQ3oh3QDngjW6ZMpUanxTr9lARxHdmjwDELXpaoXGfgiuBY4jgsqNf4ApvspGyb1SPs85ziyYQAqFS5whrLQh5HO8B40R9it6W2UecsmYsuGSTHSHj6PyoMHOjHyMH9jF9Akkg1IKq2wZDIPUaRPsm5Vl9uflSv6ZvtamnR6GHjWGOHpPsp+fqoTw5N5h/V+SCsUDRL/syi8ayMbqjcXJS1CZEgZYsIIzMQV9oQfbWUDoqRVuR/XwajG3+aMNFq/RlzZgE7SqjpKr/1giCxY7CIM31SruqxZtqXBBV/5IHbdQPBY+rZb0xWj1Ct1VrD4B9juzaZ9uIEHalkxjMIsyobfvLHBCPyVou+BYxT2hi1hgxHYHraEDcZXfh+2RGyELYOhNGyPuAiUjDPKJrA/bJk4NHxuGRGpi5Ao6howe+Nj/GQAPGVt2Da9ULguInUDcG5MNpH/9Vz2PGEVQptQHz4ank80qqxN5uRPCAkXcnIXuJ628XJZW4IpsQiuurDvHf0Xs7RkfnyPZdJla8hkudqMwHBdvajwYpr2FBYnJ+VkFTuVW3NdncewToqktYIrUCd5hv64HeWr8by8FX7WMXtpG+eeBQr3nBxFEfHCz08lAwGcMVn1fT4cjNppFO7VXBbaZaGLMEDBkU8UljjORg4O5VbNZaHb0UHPM47mnP6WZJkhGzzgs3yOlU4jGxDrUKZc1imTZRV4vV92bRZbCovjOSn1LmpBuaZzBi5zfJDYD3aAT/M5vowa1TDWB4sAB1WdzQpvqPIS9kuXh1BSZc3JcTOuaEAi4QBVzR7WmRWfeSM8rjAjMKXwSLPIvgh7CtsoW77yS+OIUvhHYMu/sauv0Eq5VH4AAAAASUVORK5CYII=\"","<template>\n  <view class=\"container\">\n    <wd-toast />\n    <view class=\"content\">\n      <!-- ==================== 标题区域 ==================== -->\n      <view class=\"title\">\n        <wd-icon\n          name=\"thin-arrow-left\"\n          style=\"margin-right: 12px\"\n          size=\"22px\"\n          @click=\"handleClickLeft\"\n        ></wd-icon>\n        Chris Wong\n      </view>\n      <!-- ==================== 表单区域 ==================== -->\n      <view class=\"detailInfo\">\n        <view class=\"chat-messages\">\n          <view\n            v-for=\"(message, index) in messages\"\n            :key=\"index\"\n            :class=\"{\n              'outgoing-message': message.sender === 'me',\n              'incoming-message': message.sender === 'chris',\n            }\"\n          >\n            <view class=\"message-content\">\n              <text>{{ message.text }}</text>\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <!-- ==================== 底部输入框 ==================== -->\n      <view class=\"message-input\">\n        <wd-input\n          custom-class=\"custom_WotInput\"\n          type=\"text\"\n          :adjust-position=\"false\"\n          v-model=\"inputMessage\"\n          placeholder=\"Type your message\"\n        />\n        <view class=\"send_btn\" @click=\"sendMessage\">\n          <image :src=\"img_sendMessage\" class=\"send-icon\"></image>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\n// wd的吐司弹窗提示组件\nimport { useToast } from \"@/uni_modules/wot-design-uni\"\nconst toast = useToast()\n\n// 导入所需图片\nimport img_sendMessage from \"@/static/communication/sendMessage.png\"\n\n// 引入必要的组件和钩子函数（如果有更多需要）\nimport SafeCapsaulContainer from \"@/components/SafeCapsaulContainer\"\nimport SuitCapsaulNavibar from \"@/components/SuitCapsaulNavibar\"\nimport {\n  useNavigate,\n  useSwitchTab,\n  flattenToNestedObject,\n} from \"@/hooks/useNavigate\"\n\n// 模拟聊天消息列表，实际开发中应从后端获取或实时更新\nconst messages = ref([\n  {\n    sender: \"chris\",\n    text: \"Hi this is Chris, I will come over to pickup the parcel tomorro\",\n  },\n  {\n    sender: \"me\",\n    text: \"Hi Chris I will be available at 1 nn - 3pm, please ping me when you arrive H est Gate\",\n  },\n  {\n    sender: \"chris\",\n    text: \"Sure, I will do See you tomorrow\",\n  },\n])\n// 输入框内容\nconst inputMessage = ref(\"\")\n\n// 发送消息方法\nconst sendMessage = () => {\n  if (!inputMessage.value.trim()) {\n    toast.fail(\"Please enter the message content\")\n    return\n  }\n  // 模拟发送消息，将消息添加到消息列表\n  messages.value.push({\n    sender: \"me\",\n    text: inputMessage.value,\n  })\n  inputMessage.value = \"\"\n  // 这里可以添加实际的发送逻辑，比如调用后端接口\n  toast.success(\"The message was sent successfully.\")\n}\n\n// 必要的数据准备\n\n// 页面数据加载\nonLoad(async (options) => {\n  console.log(\"------------------------- {request} --------------------------\")\n  const NestedObjectOptions = flattenToNestedObject(options)\n  console.log(\"NestedObjectOptions\", NestedObjectOptions)\n})\n\n// 返回上一级\nconst handleClickLeft = () => {\n  uni.navigateBack()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  width: 100%;\n  min-height: 100vh;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.content {\n  width: 100%;\n  min-height: 100vh;\n  padding-bottom: 100px;\n  box-sizing: border-box;\n  background-color: #f4f6fe;\n  padding-bottom: 200px;\n  position: relative;\n}\n\n/* ------------------------ 标题区域 ----------------------- */\n.title {\n  width: 100%;\n  height: 140rpx;\n  padding: 20px;\n  box-sizing: border-box;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n\n  background-color: #235597;\n  font-size: 20px;\n  font-weight: 900;\n  line-height: normal;\n  letter-spacing: 0px;\n\n  font-feature-settings: \"kern\" on;\n  color: #ffffff;\n}\n\n/* ---------------- 四个选项的通用代码 ---------------------*/\n.detailInfo {\n  width: 100%;\n  height: auto;\n\n  padding: 14px;\n  box-sizing: border-box;\n\n  margin-bottom: 10px;\n}\n\n/* ------------------------ 聊天消息区域 ----------------------- */\n.chat-messages {\n  width: 100%;\n  flex: 1;\n  overflow-y: auto;\n  margin-bottom: 10px;\n}\n// 发送出去的消息\n.outgoing-message {\n  // background-color: #3498db;\n  background-color: #235597;\n\n  color: white;\n  border-radius: 10px;\n  padding: 10px;\n  margin-bottom: 10px;\n  align-self: flex-end;\n  margin-left: 30px;\n}\n// 收到的消息\n.incoming-message {\n  // background-color: #85c1e9;\n  background-color: #469baf;\n  color: white;\n  border-radius: 10px;\n  padding: 10px;\n  margin-bottom: 10px;\n  align-self: flex-start;\n  margin-right: 30px;\n}\n.message-content {\n  word-break: break-all;\n}\n\n/* ------------------------ 消息输入区域 ----------------------- */\n.message-input {\n  position: fixed; // 固定在底部\n  bottom: 0; // 底部对齐\n  left: 0; // 左对齐\n  width: 100%;\n  padding: 10px; // 增加内边距以增加输入框的高度\n  box-sizing: border-box; // 确保内边距不会影响元素的总宽度和高度\n  border-top: 1px solid #ccc; // 可选的边框，用于区分输入框和消息区域;\n  background: #235597;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.send_btn {\n  background-color: transparent;\n  padding-left: 16px;\n  cursor: pointer;\n}\n.send-icon {\n  width: 26px;\n  height: 26px;\n  object-fit: contain;\n}\n:deep() {\n  .custom_WotInput {\n    width: 80%;\n    padding-left: 10px;\n    border-radius: 8px;\n    overflow: hidden;\n  }\n}\n</style>\n"],"names":["toast","useToast","messages","ref","sender","text","inputMessage","sendMessage","value","trim","push","success","fail","onLoad","options","__async","this","console","log","NestedObjectOptions","flattenToNestedObject","handleClickLeft","uni.navigateBack"],"mappings":"6gBAAA,2CCoDA,MAAMA,EAAQC,IAeRC,EAAWC,EAAI,CACnB,CACEC,OAAQ,QACRC,KAAM,mEAER,CACED,OAAQ,KACRC,KAAM,yFAER,CACED,OAAQ,QACRC,KAAM,sCAIJC,EAAeH,EAAI,IAGnBI,EAAc,KACbD,EAAaE,MAAMC,QAKxBP,EAASM,MAAME,KAAK,CAClBN,OAAQ,KACRC,KAAMC,EAAaE,QAErBF,EAAaE,MAAQ,GAErBR,EAAMW,QAAQ,uCAVZX,EAAMY,KAAK,qCAgBfC,EAAcC,IAAYC,SAAAC,OAAA,OAAA,YACxBC,QAAQC,IAAI,kEACZ,MAAMC,EAAsBC,EAAsBN,GAClDG,QAAQC,IAAI,sBAAuBC,EACrC,4MAGA,MAAME,EAAkB,KACtBC,ygCD/Ga"}