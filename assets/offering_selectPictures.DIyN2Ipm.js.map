{"version":3,"file":"offering_selectPictures.DIyN2Ipm.js","sources":["../../../../src/uni_modules/wot-design-uni/components/wd-picker-view/types.ts","../../../../src/uni_modules/wot-design-uni/components/wd-picker-view/wd-picker-view.vue","../../../../src/static/chooseOffering/offering_selectPictures.png"],"sourcesContent":["import type { ComponentPublicInstance, ExtractPropTypes, PropType, Ref } from 'vue'\nimport { baseProps, makeArrayProp, makeBooleanProp, makeNumberProp, makeStringProp } from '../common/props'\nimport { getType, isArray, isObj } from '../common/util'\n\nexport type ColumnItem = {\n  [key: string]: any\n  value?: string | number | boolean\n  label?: string\n  disabled?: boolean\n}\n\nexport type PickerViewColumnChange = (\n  pickerView: PickerViewInstance,\n  selects: Record<string, any> | Record<string, any>[],\n  index: number,\n  reslove: () => void\n) => void\n\nexport const pickerViewProps = {\n  ...baseProps,\n  /**\n   * 加载状态\n   */\n  loading: makeBooleanProp(false),\n  /**\n   * 加载的颜色，只能使用十六进制的色值写法，且不能使用缩写\n   */\n  loadingColor: makeStringProp('#4D80F0'),\n  /**\n   * picker内部滚筒高\n   */\n  columnsHeight: makeNumberProp(217),\n  /**\n   * 选项对象中，value对应的 key\n   */\n  valueKey: makeStringProp('value'),\n  /**\n   * 选项对象中，展示的文本对应的 key\n   */\n  labelKey: makeStringProp('label'),\n  /**\n   * 是否在手指松开时立即触发picker-view的 change 事件。若不开启则会在滚动动画结束后触发 change 事件，1.2.25版本起提供，仅微信小程序和支付宝小程序支持。\n   */\n  immediateChange: makeBooleanProp(false),\n  /**\n   * 选中项，如果为多列选择器，则其类型应为数组\n   */\n  modelValue: {\n    type: [String, Number, Boolean, Array<number>, Array<string>, Array<boolean>] as PropType<\n      string | number | boolean | Array<number> | Array<string> | Array<boolean>\n    >,\n    default: '',\n    required: true\n  },\n  /**\n   * 选择器数据，可以为字符串数组，也可以为对象数组，如果为二维数组，则为多列选择器\n   */\n  columns: makeArrayProp<string | number | ColumnItem | Array<number> | Array<string> | Array<ColumnItem>>(),\n  /**\n   * 接收 pickerView 实例、选中项、当前修改列的下标、resolve 作为入参，根据选中项和列下标进行判断，通过 pickerView 实例暴露出来的 setColumnData 方法修改其他列的数据源。\n   */\n  columnChange: Function as PropType<PickerViewColumnChange>\n}\n\nexport type PickerViewExpose = {\n  getSelects: () => Record<string, any> | Record<string, any>[]\n  getValues: () => string | string[]\n  setColumnData: (columnIndex: number, data: Array<string | number | ColumnItem | Array<string | number | ColumnItem>>, rowIndex?: number) => void\n  getColumnsData: () => Record<string, string>[][]\n  getColumnData: (columnIndex: number) => Record<string, string>[]\n  getColumnIndex: (columnIndex: number) => number\n  getLabels: () => string[]\n  getSelectedIndex: () => number[]\n  resetColumns: (columns: (string | number | string[] | number[] | ColumnItem | ColumnItem[])[]) => void\n}\n\nexport type PickerViewProps = ExtractPropTypes<typeof pickerViewProps>\n\nexport type PickerViewInstance = ComponentPublicInstance<PickerViewProps, PickerViewExpose>\n\n/**\n * 格式化传入的列数据\n * 列数据统一格式化为二维数组\n * @param array 列数据\n * @param valueKey\n * @param labelKey\n * @returns\n */\nexport function formatArray(\n  array: Array<string | number | ColumnItem | Array<string | number | ColumnItem>>,\n  valueKey: string,\n  labelKey: string\n): ColumnItem[][] {\n  let tempArray: Array<string | number | ColumnItem | Array<string | number | ColumnItem>> = isArray(array) ? array : [array]\n  // 判断数组第一层的数据类型，如果存在多种类型，则抛错\n  const firstLevelTypeList = new Set(array.map(getType))\n  /**\n   * 存在三种类型的合法数据\n   * 1.数组是一维元素，所有元素都是原始值\n   * 2.数组是一维元素，所有元素都是object\n   * 3.数组是二维元素，二维元素可以是任意内容\n   */\n  if (firstLevelTypeList.size !== 1 && firstLevelTypeList.has('object')) {\n    // 原始值和引用类型不用混用\n    throw Error('The columns are correct')\n  }\n  /**\n   * 简单处理，如果数组第一项不是数组则认为它是一个一维数组\n   * 所以需要把一维的转成二维，这样方便统一处理\n   */\n  if (!isArray(array[0])) {\n    tempArray = [tempArray as Array<string | number | ColumnItem>]\n  }\n  // 转化为二维数组后需要将每一项包装成ColumnItem\n  const result: Array<Array<ColumnItem>> = (tempArray as Array<Array<string | number | ColumnItem>>).map((col) => {\n    return col.map((row) => {\n      // 非对象类型直接将值作为label和value\n      if (!isObj(row)) {\n        return {\n          [valueKey]: row,\n          [labelKey]: row\n        }\n      }\n      /**\n       * 针对已经是object的，修补成{valueKey,labelKey}\n       * 如果没有labelKey，用valueKey代替\n       * 如果没有valueKey，用labelKey代替\n       * valueKey,labelKey都没有，直接抛错\n       */\n      // eslint-disable-next-line no-prototype-builtins\n      if (!row.hasOwnProperty(valueKey) && !row.hasOwnProperty(labelKey)) {\n        // eslint-disable-next-line prettier/prettier\n      throw Error('Can\\'t find valueKey and labelKey in columns')\n      }\n      // eslint-disable-next-line no-prototype-builtins\n      if (!row.hasOwnProperty(labelKey)) {\n        row[labelKey] = row[valueKey]\n      }\n      // eslint-disable-next-line no-prototype-builtins\n      if (!row.hasOwnProperty(valueKey)) {\n        row[valueKey] = row[labelKey]\n      }\n      return row\n    })\n  })\n\n  return result\n}\n","<template>\n  <view :class=\"`wd-picker-view ${customClass}`\" :style=\"customStyle\">\n    <view class=\"wd-picker-view__loading\" v-if=\"loading\">\n      <wd-loading :color=\"loadingColor\" />\n    </view>\n    <view :style=\"`height: ${columnsHeight - 20}px;`\">\n      <picker-view\n        mask-class=\"wd-picker-view__mask\"\n        indicator-class=\"wd-picker-view__roller\"\n        :indicator-style=\"`height: ${itemHeight}px;`\"\n        :style=\"`height: ${columnsHeight - 20}px;`\"\n        :value=\"selectedIndex\"\n        :immediate-change=\"immediateChange\"\n        @change=\"onChange\"\n        @pickstart=\"onPickStart\"\n        @pickend=\"onPickEnd\"\n      >\n        <picker-view-column v-for=\"(col, colIndex) in formatColumns\" :key=\"colIndex\" class=\"wd-picker-view-column\">\n          <view\n            v-for=\"(row, rowIndex) in col\"\n            :key=\"rowIndex\"\n            :class=\"`wd-picker-view-column__item ${row['disabled'] ? 'wd-picker-view-column__item--disabled' : ''}  ${\n              selectedIndex[colIndex] == rowIndex ? 'wd-picker-view-column__item--active' : ''\n            }`\"\n            :style=\"`line-height: ${itemHeight}px;`\"\n          >\n            {{ row[labelKey] }}\n          </view>\n        </picker-view-column>\n      </picker-view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  name: 'wd-picker-view',\n  options: {\n    virtualHost: true,\n    addGlobalClass: true,\n    styleIsolation: 'shared'\n  }\n}\n</script>\n<script lang=\"ts\" setup>\nimport wdLoading from '../wd-loading/wd-loading.vue'\nimport { getCurrentInstance, ref, watch, nextTick } from 'vue'\nimport { deepClone, getType, isArray, isDef, isEqual, range } from '../common/util'\nimport { formatArray, pickerViewProps, type ColumnItem, type PickerViewExpose } from './types'\n\nconst props = defineProps(pickerViewProps)\nconst emit = defineEmits(['change', 'pickstart', 'pickend', 'update:modelValue'])\n\nconst formatColumns = ref<ColumnItem[][]>([]) // 格式化后的列数据\nconst itemHeight = ref<number>(35)\nconst selectedIndex = ref<Array<number>>([]) // 格式化之后，每列选中的下标集合\n\nwatch(\n  [() => props.modelValue, () => props.columns],\n  (newValue, oldValue) => {\n    if (!isEqual(oldValue[1], newValue[1])) {\n      if (isArray(newValue[1]) && newValue[1].length > 0) {\n        formatColumns.value = formatArray(newValue[1], props.valueKey, props.labelKey)\n      } else {\n        // 当 columns 变为空时，清空 formatColumns 和 selectedIndex\n        formatColumns.value = []\n        selectedIndex.value = []\n      }\n    }\n    if (isDef(newValue[0])) {\n      selectWithValue(newValue[0])\n    }\n  },\n  {\n    deep: true,\n    immediate: true\n  }\n)\n\nconst { proxy } = getCurrentInstance() as any\n\n/**\n * 根据传入的value，寻找对应的索引，并传递给原生选择器。\n * 需要保证formatColumns先设置，之后会修改selectedIndex。\n * @param {String|Number|Boolean|Array<String|Number|Boolean|Array<any>>}value\n */\nfunction selectWithValue(value: string | number | boolean | number[] | string[] | boolean[]) {\n  if (formatColumns.value.length === 0) {\n    selectedIndex.value = [] // 如果列为空，直接清空选中索引\n    return\n  }\n  // 使其默认选中首项\n  if (value === '' || !isDef(value) || (isArray(value) && value.length === 0)) {\n    value = formatColumns.value.map((col) => {\n      return col[0][props.valueKey]\n    })\n  }\n  const valueType = getType(value)\n  const type = ['string', 'number', 'boolean', 'array']\n  if (type.indexOf(valueType) === -1) console.error(`value must be one of ${type.toString()}`)\n\n  /**\n   * 1.单key转为Array<key>\n   * 2.根据formatColumns的长度截取Array<String>，保证下面的遍历不溢出\n   * 3.根据每列的key值找到选项中value为此key的下标并记录\n   */\n  value = isArray(value) ? value : [value as string]\n  value = value.slice(0, formatColumns.value.length)\n\n  let selected: number[] = deepClone(selectedIndex.value)\n  value.forEach((target, col) => {\n    let row = formatColumns.value[col].findIndex((row) => {\n      return row[props.valueKey].toString() === target.toString()\n    })\n    row = row === -1 ? 0 : row\n    selected = correctSelectedIndex(col, row, selected)\n  })\n  /** 根据formatColumns的长度去除selectWithIndex无用的部分。\n   * 始终保持value、selectWithIndex、formatColumns长度一致\n   */\n  selectedIndex.value = selected.slice(0, value.length)\n}\n\n/**\n * 修正选中项的值\n * @param value 当前picker选择器选中的值\n * @param origin 原始选中的值\n */\nfunction correctSelected(value: number[]) {\n  let selected = deepClone(value)\n  value.forEach((row, col) => {\n    row = range(row, 0, formatColumns.value[col].length - 1)\n    selected = correctSelectedIndex(col, row, selected)\n  })\n  return selected\n}\n\n/**\n * 修正选中项指定列行的值\n * @param columnIndex 列下标\n * @param rowIndex 行下标\n * @param selected 选中值列表\n */\nfunction correctSelectedIndex(columnIndex: number, rowIndex: number, selected: number[]) {\n  const col = formatColumns.value[columnIndex]\n  if (!col || !col[rowIndex]) {\n    throw Error(`The value to select with Col:${columnIndex} Row:${rowIndex} is incorrect`)\n  }\n  const select: number[] = deepClone(selected)\n  select[columnIndex] = rowIndex\n\n  // 被禁用的无法选中，选中距离它最近的未被禁用的\n  if (col[rowIndex].disabled) {\n    // 寻找值为0或最最近的未被禁用的节点的索引\n    const prev = col\n      .slice(0, rowIndex)\n      .reverse()\n      .findIndex((s) => !s.disabled)\n    const next = col.slice(rowIndex + 1).findIndex((s) => !s.disabled)\n    if (prev !== -1) {\n      select[columnIndex] = rowIndex - 1 - prev\n    } else if (next !== -1) {\n      select[columnIndex] = rowIndex + 1 + next\n    } else if (select[columnIndex] === undefined) {\n      select[columnIndex] = 0\n    }\n  }\n  return select\n}\n\n/**\n * 选择器选中项变化时触发\n * @param param0\n */\nfunction onChange({ detail: { value } }: { detail: { value: number[] } }) {\n  value = value.map((v: any) => {\n    return Number(v || 0)\n  })\n  const index = getChangeDiff(value)\n  // 先将picker选择器的值赋给selectedIndex，然后重新赋予修正后的值，防止两次操作修正结果一致时pikcer视图不刷新\n  selectedIndex.value = deepClone(value)\n  nextTick(() => {\n    // 重新赋予修正后的值\n    selectedIndex.value = correctSelected(value)\n    if (props.columnChange) {\n      // columnsChange 可能有异步操作，需要添加 resolve 进行回调通知，形参小于4个则为同步\n      if (props.columnChange.length < 4) {\n        props.columnChange(proxy.$.exposed, getSelects(), index || 0, () => {})\n        handleChange(index || 0)\n      } else {\n        props.columnChange(proxy.$.exposed, getSelects(), index || 0, () => {\n          // 如果selectedIndex只有一列，返回此项；如果是多项，返回所有选中项。\n          handleChange(index || 0)\n        })\n      }\n    } else {\n      // 如果selectedIndex只有一列，返回此项；如果是多项，返回所有选中项。\n      handleChange(index || 0)\n    }\n  })\n}\n\n/**\n * 获取选中项变化的列的下标\n * @param now 当前选中项值\n * @param origin 旧选中项值\n */\nfunction getChangeColumn(now: number[], origin: number[]) {\n  if (!now || !origin) return -1\n  const index = now.findIndex((row, index) => row !== origin[index])\n  return index\n}\n\nfunction getChangeDiff(value: number[]) {\n  value = value.slice(0, formatColumns.value.length)\n\n  // 保留选中前的\n  const origin: number[] = deepClone(selectedIndex.value)\n  // 存储赋值旧值，便于外部比较\n  let selected: number[] = deepClone(selectedIndex.value)\n\n  value.forEach((row, col) => {\n    row = range(row, 0, formatColumns.value[col].length - 1)\n    if (row === origin[col]) return\n    selected = correctSelectedIndex(col, row, selected)\n  })\n\n  // 值变化的列\n  const diffCol = getChangeColumn(selected, origin)\n  if (diffCol === -1) return\n\n  // 获取变化的的行\n  const diffRow = selected[diffCol]\n\n  // 如果selectedIndex只有一列，返回选中项的索引；如果是多项，返回选中项所在的列。\n  return selected.length === 1 ? diffRow : diffCol\n}\n\n/**\n * 列更新\n * @param index 列下标\n */\nfunction handleChange(index: number) {\n  const value = getValues()\n\n  // 避免多次触发change\n  if (isEqual(value, props.modelValue)) return\n\n  emit('update:modelValue', value)\n  // 延迟一下，避免组件刚渲染时调用者的事件未初始化好\n  setTimeout(() => {\n    emit('change', {\n      picker: proxy.$.exposed,\n      value,\n      index\n    })\n  }, 0)\n}\n\n/**\n * @description 获取所有列选中项，返回值为一个数组\n */\nfunction getSelects() {\n  const selects = selectedIndex.value.map((row, col) => formatColumns.value[col][row])\n  // 单列选择器，则返回单项\n  if (selects.length === 1) {\n    return selects[0]\n  }\n  return selects\n}\n\n/**\n * 获取所有列的选中值\n * 如果values只有一项则将第一项返回\n */\nfunction getValues() {\n  const { valueKey } = props\n  const values = selectedIndex.value.map((row, col) => {\n    return formatColumns.value[col][row][valueKey]\n  })\n\n  if (values.length === 1) {\n    return values[0]\n  }\n  return values\n}\n\n/**\n * 获取所有列选中项的label，返回值为一个数组\n */\nfunction getLabels() {\n  const { labelKey } = props\n  return selectedIndex.value.map((row, col) => formatColumns.value[col][row][labelKey])\n}\n\n/**\n * 获取某一列的选中项下标\n * @param {Number} columnIndex 列的下标\n * @returns {Number} 下标\n */\nfunction getColumnIndex(columnIndex: number) {\n  return selectedIndex.value[columnIndex]\n}\n\n/**\n *  获取某一列的选项\n * @param {Number} columnIndex 列的下标\n * @returns {Array<{valueKey,labelKey}>} 当前列的集合\n */\nfunction getColumnData(columnIndex: number) {\n  return formatColumns.value[columnIndex]\n}\n\n/**\n * 设置列数据\n * @param columnIndex 列下标\n * @param data // 列数据\n * @param rowIndex // 行下标\n */\nfunction setColumnData(columnIndex: number, data: Array<string | number | ColumnItem | Array<string | number | ColumnItem>>, rowIndex: number = 0) {\n  formatColumns.value[columnIndex] = formatArray(data, props.valueKey, props.labelKey).reduce((acc, val) => acc.concat(val), [])\n  selectedIndex.value = correctSelectedIndex(columnIndex, rowIndex, selectedIndex.value)\n}\n\n/**\n * 获取列数据\n */\nfunction getColumnsData() {\n  return deepClone(formatColumns.value)\n}\n\n/**\n * 获取选中数据\n */\nfunction getSelectedIndex() {\n  return selectedIndex.value\n}\n\n/**\n * 用于重置列数据为指定列数据\n */\nfunction resetColumns(columns: (string | number | string[] | number[] | ColumnItem | ColumnItem[])[]) {\n  if (isArray(columns) && columns.length) {\n    formatColumns.value = formatArray(columns, props.valueKey, props.labelKey)\n  }\n}\n\nfunction onPickStart() {\n  emit('pickstart')\n}\n\nfunction onPickEnd() {\n  emit('pickend')\n}\n\ndefineExpose<PickerViewExpose>({\n  getSelects,\n  getValues,\n  setColumnData,\n  getColumnsData,\n  getColumnData,\n  getColumnIndex,\n  getLabels,\n  getSelectedIndex,\n  resetColumns\n})\n</script>\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAdCAYAAAAgqdWEAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAQxSURBVEiJtZdfiNRVFMc/5/5+mulAqzPZbBgY7YMPRhu4oFBk5OM+CPmwoJBCZjrOyGKBD4Y3EKIHm2Znfq1DgoIGRi0J9mAoJEgkWCTkwz4Y9LCwK+zaCCvZ7m/u6WF/M6626+9O2Xm6f84953v/nO85V+hQoijK4MIDThkQ0XUg4QMKyu8icgEz+2GhUJjoxLZ0CCSvLvweWJeurROKvF4s7hl97GCsteHT2fwVRTYmQ9cFLjjn/mobC4IA5RXQzcnQmJi4z/eEHgBjrQ1Xr37uBeJm/mFFZ9xOVHYm3ZHJqfEBa228kNFqtX5I4KPExWWj2Id1DK7RDJq/FQqF6QfAWGvD7MpnDosxB4FMygZ+WjG19NVddte9RynVho6fQWR7iq17iJ6dnf1zcHBwsCHW2jCXzX8D0p+yEGDCqekrlXaPpSlGUZRRF14Bej3sjoqJ+yQaGt6vYqrJ4HUckRp3c6EVxrjRTiIkiqKMc2bDwrOyxiBvKWwBUKhJrVq/BmwAuSlm9uX5d5jq7JOoxy1Z8pKIZkQkFpHRfft2/+y7HiCq1i8mgKZD0F4QBP3aB4i1NszlurejHFJYJygoqCqKUqvWxwSOL59aeiztXQGo8CXKFiBjWqQ1P0QX3UUU5XPZZy+inGJxrlmjcPRudubXarWeykfOuXZEmjTllpTL5a45wmtzyASqHyjaNxu755vOvajoXoEbyXyPwI8+gFoSpqvMyZLwydO0TkP1ixW3n3h7gWu4Ya09kV3ZfVgMR4AuA1+dtCf7fK7MC8zQ0GdbWqGvMFIsvbtjMd2ECG21UkcMRxTW31018y7waZofr2sKJCgkzYYx8X6fNVN/jB8FmaMIoZCi7g+mxQUics6XZ6y1seLqSbfH5+2kgimXh9eSpAhFf/AB0jZu5Gq77XTtfwZjzPxcJd6ECDAz49ppoyn6j+TbMRiRsNFqO9fMdQImCIKeeb3UfJYKplTaPYYyCRCIeaMTMMbw2v2epBZZvqR3DkDR/kpleL3PgnK53IXqfgBBrvpker9oEo4BMUgYGHM6iqJH1jzW2jAMl58EugAc+rGPHy8wxeKeUZRK0u1VF15Z7ISiKMrnVnWfF9iabOW7YnHPOR8/3ulg8vb4oVy2ey3wJtAbGPklqta/VeGSiDRwsgzcZnVsQ1gGIHAD09zm68M7UVpr48mp8QH0/pUpbEWpqdMzijuhsAPmgCiMYOJNndRHITANZDAm6wMIeK9SGT4VBsFBddqPMD/cpwUuOVylWNx72RND+/3JvEqrobCpk38OwNDQ52tEmvk41sk7d26NLfZjWEiSOvkac9XAmNRqw/2oOZ/MNwQ561zzVieA/o2ImKcQHQDJAyj6vgBUq3UrcOT/BvAIGZmcGh9of+JqteF+UXNAYSPpf6fHIfcEud5U6qXSO6cA/gbLZLGj28DAygAAAABJRU5ErkJggg==\""],"names":["pickerViewProps","__spreadProps","baseProps","loading","makeBooleanProp","loadingColor","makeStringProp","columnsHeight","makeNumberProp","valueKey","labelKey","immediateChange","modelValue","type","String","Number","Boolean","Array","default","required","columns","makeArrayProp","columnChange","Function","formatArray","array","tempArray","isArray","firstLevelTypeList","Set","map","getType","size","has","Error","col","row","isObj","hasOwnProperty","name","options","virtualHost","addGlobalClass","styleIsolation","props","__props","emit","__emit","formatColumns","ref","itemHeight","selectedIndex","watch","newValue","oldValue","isEqual","length","value","isDef","valueType","indexOf","console","error","toString","slice","selected","deepClone","forEach","target","findIndex","correctSelectedIndex","selectWithValue","deep","immediate","proxy","getCurrentInstance","columnIndex","rowIndex","select","disabled","prev","reverse","s","next","onChange","detail","index","origin","range","diffCol","now","getChangeColumn","diffRow","getChangeDiff","v","nextTick","correctSelected","$","exposed","getSelects","handleChange","getValues","setTimeout","picker","selects","values","onPickStart","onPickEnd","__expose","setColumnData","data","reduce","acc","val","concat","getColumnsData","getColumnData","getColumnIndex","getLabels","getSelectedIndex","resetColumns","_imports_1"],"mappings":"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"}