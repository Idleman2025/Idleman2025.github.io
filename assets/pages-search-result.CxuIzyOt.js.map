{"version":3,"file":"pages-search-result.CxuIzyOt.js","sources":["../../../../src/pages/search/result.vue"],"sourcesContent":["<script setup>\nimport SafeTopContainer from \"@/components/SafeTopContainer.vue\"\nimport OrderCard from \"@/components/OrderCard.vue\"\nimport CustomTabbar from \"@/components/CustomTabbar.vue\"\n\nconst paging = ref()\nconst dataList = ref([])\n\nconst searchKeyword = ref(\"\")\n\nconst activeTab = ref(2)\n\nconst handleClickLeft = () => {\n  uni.navigateBack()\n}\n\nconst handleChangeTab = (index) => {\n  activeTab.value = index\n  paging.value.reload()\n}\n\n/**\n * 加载列表\n * @param page\n * @param size\n */\nconst onLoadList = async (page, size) => {\n  const r = await indexOrders({\n    page: page,\n    rows: size,\n    methodtype: activeTab.value,\n    keyword: searchKeyword.value,\n  })\n  paging.value.complete(r.data.data)\n}\n\nconst handleClickItem = (order) => {\n  useNavigate(\"/pages/tracking/info\", {\n    id: order.id,\n    match: 1,\n  })\n}\n\nonLoad((option) => {\n  if (option.keyword) {\n    searchKeyword.value = decodeURIComponent(option.keyword)\n  }\n})\n</script>\n\n<template>\n  <z-paging ref=\"paging\" v-model=\"dataList\" @query=\"onLoadList\">\n    <template #top>\n      <SafeTopContainer>\n        <view class=\"nav-bar\">\n          <view class=\"nav-left\" @click=\"handleClickLeft\">\n            <wd-icon name=\"thin-arrow-left\" color=\"#fff\" size=\"22px\"></wd-icon>\n          </view>\n          <view class=\"nav-title\">Search Results</view>\n        </view>\n        <!-- ======================= 顶部Tab栏 ======================= -->\n        <view class=\"tab-bar\">\n          <view\n            class=\"tab-item\"\n            :class=\"{ active_Requests: activeTab === 2 }\"\n            @click=\"handleChangeTab(2)\"\n          >\n            Requests\n          </view>\n          <view\n            class=\"tab-item\"\n            :class=\"{ active_Offerings: activeTab === 1 }\"\n            @click=\"handleChangeTab(1)\"\n          >\n            Offerings\n          </view>\n        </view>\n      </SafeTopContainer>\n      <!--搜索的文字-->\n      <view class=\"search-keyword-container\">\n        <text class=\"word-text\">{{ searchKeyword }}</text>\n      </view>\n    </template>\n    <template #default>\n      <view class=\"list-container\">\n        <OrderCard\n          v-for=\"item in dataList\"\n          :dataSource=\"item\"\n          :key=\"item.id\"\n          :type=\"activeTab\"\n          @click=\"handleClickItem\"\n        />\n      </view>\n    </template>\n    <template #bottom>\n      <CustomTabbar />\n    </template>\n  </z-paging>\n</template>\n<style>\npage {\n  background: #f1edea;\n}\n</style>\n<style scoped lang=\"scss\">\n.nav-bar {\n  display: flex;\n  align-items: center;\n  background-color: #235597;\n  height: 64px;\n  padding: 0 16px;\n  box-sizing: border-box;\n}\n\n.nav-left {\n  width: 20px;\n  height: 20px;\n}\n\n.nav-left image {\n  width: 100%;\n  height: 100%;\n}\n\n.nav-title {\n  font-size: 19.99px;\n  font-weight: normal;\n  line-height: normal;\n  letter-spacing: 0px;\n\n  color: #ffffff;\n  flex: 1;\n  text-align: center;\n}\n\n/* =================== Tab栏样式 =================== */\n.tab-bar {\n  display: flex;\n  background-color: #235597;\n  color: white;\n  height: 44px;\n  line-height: 44px;\n}\n\n.tab-item {\n  flex: 1;\n  text-align: center;\n  position: relative;\n}\n\n// 激活状态的Tab样式\n.tab-item.active_Requests {\n  border-bottom: 4px solid #469baf;\n}\n\n.tab-item.active_Offerings {\n  border-bottom: 4px solid #c46379;\n}\n\n.search-keyword-container {\n  display: inline-block;\n\n  margin: 32rpx;\n  color: #ffffff;\n\n  .word-text {\n    border-radius: 32rpx;\n    font-size: 24rpx;\n    padding: 20rpx 32rpx;\n    background: #069db2;\n  }\n}\n\n.list-container {\n  padding-top: 32rpx;\n}\n</style>\n"],"names":["paging","ref","dataList","searchKeyword","activeTab","handleClickLeft","uni.navigateBack","handleChangeTab","index","value","reload","onLoadList","page","size","__async","this","r","indexOrders","rows","methodtype","keyword","complete","data","handleClickItem","order","useNavigate","id","match","onLoad","option","decodeURIComponent"],"mappings":"2iBAKA,MAAMA,EAASC,IACTC,EAAWD,EAAI,IAEfE,EAAgBF,EAAI,IAEpBG,EAAYH,EAAI,GAEhBI,EAAkB,KACtBC,KAGIC,EAAmBC,IACvBJ,EAAUK,MAAQD,EAClBR,EAAOS,MAAMC,UAQTC,EAAa,CAAOC,EAAMC,KAASC,SAAAC,OAAA,OAAA,YACvC,MAAMC,QAAUC,EAAY,CAC1BL,OACAM,KAAML,EACNM,WAAYf,EAAUK,MACtBW,QAASjB,EAAcM,QAEzBT,EAAOS,MAAMY,SAASL,EAAEM,KAAKA,KAC/B,2MAEMC,EAAmBC,IACvBC,EAAY,uBAAwB,CAClCC,GAAIF,EAAME,GACVC,MAAO,YAIXC,EAAQC,IACFA,EAAOT,UACTjB,EAAcM,MAAQqB,mBAAmBD,EAAOT"}