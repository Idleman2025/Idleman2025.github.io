var e=(e,a,t)=>new Promise((l,s)=>{var o=e=>{try{u(t.next(e))}catch(a){s(a)}},r=e=>{try{u(t.throw(e))}catch(a){s(a)}},u=e=>e.done?l(e.value):Promise.resolve(e.value).then(o,r);u((t=t.apply(e,a)).next())});import{_ as a,r as t,u as l,q as s,aP as o,n as r,aL as u,L as i,P as n,B as d,v as c,d as v,w as m,S as p,F as _,i as f,aq as h,a as g,C as x,b as y,o as b,p as w,e as j,f as k,g as C,x as F,c as S,R as I,ai as P,k as T,bv as q,m as L}from"./index-CZTU9sJr.js";import{C as R}from"./CustomTabbar.B3lAXTyy.js";import{M as z,a as M,S as N,b as W,c as A}from"./05_orderStep.54PzUa0y.js";import{i as B}from"./messageIcon.qwawyPJk.js";import{i as D}from"./request_locate.D6J_LtCg.js";import{i as E,a as H,b as J}from"./offering_checked.2m06CsQZ.js";import{o as O,r as Q}from"./o-arrow-right.CFKWfVYb.js";import{S as X}from"./SafeTopContainer.DS3ZpJfD.js";import"./z-paging.CcHvkGcx.js";/* empty css                                                                           */import"./wd-toast.hw5jrMAu.js";import"./base64.DG4fya_b.js";import"./driver_blue_star.DsmEQVaB.js";import"./useParent.Bzg6ucJw.js";import"./useTranslate.D6TChGWp.js";import"./useChildren.DKsuPY06.js";import"./useMessage.DLinPXOW.js";const Y=a({__name:"detail",setup(a){const Y=t(1),Z=t({}),G=t({}),K=l(),U=s(()=>K.userInfo),{screenHeight:V,screenWidth:$}=o(),ee=t(V),ae=e=>{Y.value=2,Z.value=e},te=a=>e(this,null,function*(){200==(yield q({id:a.id,status:2})).code&&(Y.value=3)}),le=e=>{Y.value=1},se=e=>{Y.value=4},oe=e=>{Y.value=5},re=e=>{L("/pages/home/index")},ue=()=>{T("/pages/communication/index")},ie=()=>{const e=Y.value-1;e<1?P():Y.value=e};r(a=>e(this,null,function*(){const e=yield u({id:a.id});G.value=e.data}));const{ctx:ne}=i();return n(()=>{let e=0;d(()=>{h().in(ne).select(".top-blue-section").boundingClientRect(function(a){e+=a.height}).exec(),h().in(ne).select(".top_order_card").boundingClientRect(function(a){e+=a.height}).exec(),ee.value-=e})}),(e,a)=>{const t=g(y("wd-icon"),x),l=f,s=w,o=k;return b(),c(_,null,[v(X,null,{default:m(()=>[v(l,{class:"flex items-center",style:{width:"100%",height:"88rpx","background-color":"#235597","padding-left":"32rpx"}},{default:m(()=>[v(t,{name:"thin-arrow-left",size:"18px",color:"#FFFFFF",onClick:ie})]),_:1}),v(l,{class:"top-blue-section"},{default:m(()=>[v(l,{class:"top-info"},{default:m(()=>{var e;return[v(s,{src:null==(e=j(U))?void 0:e.avatar,class:"avatar",mode:"widthFix"},null,8,["src"]),v(l,{class:"welcome-text"},{default:m(()=>[v(o,null,{default:m(()=>[C("Welcome")]),_:1}),v(o,{class:"name"},{default:m(()=>{var e;return[C(F(null==(e=j(U))?void 0:e.nickname),1)]}),_:1})]),_:1})]}),_:1}),v(l,{class:"message-icon",onClick:ue},{default:m(()=>[v(s,{src:j(B),class:"msg-icon",mode:"widthFix"},null,8,["src"]),v(l,{class:"badge"},{default:m(()=>[C("1")]),_:1})]),_:1})]),_:1})]),_:1}),v(l,{class:"top_order_card"},{default:m(()=>[v(l,{class:"item-card"},{default:m(()=>[v(l,{class:"item-icon"},{default:m(()=>{var e;return[v(s,{src:null==(e=G.value)?void 0:e.cate_image,mode:"widthFix",style:{width:"100%"}},null,8,["src"])]}),_:1}),v(l,{class:"item-content"},{default:m(()=>[v(l,{class:"item-cate-name"},{default:m(()=>{var e;return[C(F(null==(e=G.value)?void 0:e.cate_name),1)]}),_:1}),v(l,{class:"item-title"},{default:m(()=>[v(l,{class:"desc_icon"},{default:m(()=>{return[v(s,{src:(e=G.value,e?2==e.methodtype?2==e.method||4==e.method?D:E:1==e.methodtype?1==e.method||3==e.method?H:J:void 0:null),mode:"widthFix",style:{width:"100%"}},null,8,["src"])];var e}),_:1}),v(l,{class:"item-title-text"},{default:m(()=>{var e,a,t,l;return[1==(null==(e=G.value)?void 0:e.method)||3==(null==(a=G.value)?void 0:a.method)?(b(),S(o,{key:0},{default:m(()=>{var e,a;return[C(F(null==(e=G.value)?void 0:e.from)+" -> "+F(null==(a=G.value)?void 0:a.to),1)]}),_:1})):I("",!0),2==(null==(t=G.value)?void 0:t.method)||4==(null==(l=G.value)?void 0:l.method)?(b(),S(o,{key:1},{default:m(()=>{var e;return[C(F(null==(e=G.value)?void 0:e.title),1)]}),_:1})):I("",!0)]}),_:1})]),_:1}),v(l,{class:"item-price"},{default:m(()=>[v(l,{class:"price_icon"},{default:m(()=>{var e;return[v(s,{src:1==(null==(e=G.value)?void 0:e.methodtype)?j(O):j(Q),mode:"widthFix",style:{width:"100%"}},null,8,["src"])]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),v(l,{class:"content-wrapper",style:p({height:ee.value+"px"})},{default:m(()=>{var e,a;return[1==Y.value&&(null==(e=G.value)?void 0:e.id)?(b(),S(z,{key:0,orderId:null==(a=G.value)?void 0:a.id,onChoose:ae},null,8,["orderId"])):2==Y.value&&Z.value?(b(),S(M,{key:1,dataSource:Z.value,onAccept:te,onDecline:le},null,8,["dataSource"])):3==Y.value&&Z.value?(b(),S(N,{key:2,dataSource:Z.value,onClick:se},null,8,["dataSource"])):4==Y.value?(b(),S(W,{key:3,onConfirm:oe})):5==Y.value?(b(),S(A,{key:4,onSubmit:re})):I("",!0)]}),_:1},8,["style"]),v(R)],64)}}},[["__scopeId","data-v-cc300b35"]]);export{Y as default};
//# sourceMappingURL=pages-tracking-detail.BV4zm4g6.js.map
